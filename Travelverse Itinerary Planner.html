<!DOCTYPE html>
<!-- saved from url=(0032)http://127.0.0.1:5500/index.html -->
<html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
    
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Travelverse Itinerary Planner</title>

    <!-- External libraries for PDF generation - Internet Connection Required -->
    <script src="./Travelverse Itinerary Planner_files/jspdf.umd.min.js"></script>
    <script src="./Travelverse Itinerary Planner_files/jspdf.plugin.autotable.min.js"></script>

    <!-- External library for Drag-and-Drop - Internet Connection Required -->
    <script src="./Travelverse Itinerary Planner_files/Sortable.min.js"></script>


    <style>
        /* --- Google Font --- */
        @import url('https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap');

        /* --- MODERN UI - APPLE INSPIRED --- */
        :root {
            --brand-blue: #05C3DE; /* Updated Brand Color */
            --brand-blue-light: #4ee0f0; /* Lighter version of new brand color */
            --bg-color: #f5f5f7;
            --card-bg-color: #ffffff;
            --text-primary: #1d1d1f;
            --text-secondary: #515154;
            --border-color: #d2d2d7;
            --error-color: #bf0a28;
            --shadow: 0 4px 12px rgba(0,0,0,0.08);
            --radius-l: 18px;
            --radius-m: 12px;
        }

        * { box-sizing: border-box; margin: 0; padding: 0; }
        
        body {
            font-family: 'Plus Jakarta Sans', -apple-system, BlinkMacSystemFont, sans-serif;
            background-color: var(--bg-color);
            color: var(--text-primary);
            line-height: 1.6;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }

        .container { max-width: 960px; margin: 40px auto; padding: 20px; }

        header { text-align: center; margin-bottom: 40px; }
        h1 {
            font-size: 3.5rem;
            font-weight: 800;
            letter-spacing: -1.5px;
            background: linear-gradient(45deg, #333, var(--brand-blue));
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        .card {
            background-color: var(--card-bg-color);
            border-radius: var(--radius-l);
            box-shadow: var(--shadow);
            padding: 35px 40px;
            margin-bottom: 30px;
            border: 1px solid rgba(0,0,0,0.05);
            animation: fadeIn 0.5s ease-out;
        }

        h2 {
            font-size: 1.5rem;
            font-weight: 700;
            color: var(--text-primary);
            margin-bottom: 25px;
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        h3 {
            font-size: 1.2rem;
            font-weight: 600;
            color: var(--text-primary);
            margin-bottom: 15px;
            padding-bottom: 10px;
            border-bottom: 1px solid var(--border-color);
        }

        .form-row {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(220px, 1fr));
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .form-row .full-width {
            grid-column: 1 / -1;
        }

        .form-group { display: flex; flex-direction: column; }
        .form-group label {
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-secondary);
            font-size: 0.9rem;
        }

        input, select {
            width: 100%;
            padding: 16px;
            border: 1px solid var(--border-color);
            border-radius: var(--radius-m);
            font-size: 1rem;
            transition: all 0.2s ease;
            background-color: #fafafa;
        }

        input:disabled {
            background-color: #f0f0f2;
            cursor: not-allowed;
            color: #999;
        }

        input:focus, select:focus {
            outline: none;
            border-color: var(--brand-blue);
            box-shadow: 0 0 0 4px rgba(5, 195, 222, 0.15); /* Updated focus color */
            background-color: #fff;
        }

        button {
            border: none;
            border-radius: var(--radius-m);
            cursor: pointer;
            font-weight: 600;
            transition: all 0.2s ease;
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 8px;
            font-size: 1rem;
        }

        .btn-primary {
            background: var(--brand-blue);
            color: white;
            padding: 18px 28px;
            width: 100%;
            font-size: 1.2rem;
            box-shadow: 0 4px 10px rgba(5, 195, 222, 0.2); /* Updated shadow color */
        }
        .btn-primary:hover {
            transform: translateY(-2px);
            background: var(--brand-blue-light);
            box-shadow: 0 6px 15px rgba(5, 195, 222, 0.3); /* Updated shadow color */
        }

        .btn-secondary {
            background-color: #e8e8ed;
            color: var(--text-primary);
            padding: 16px 24px;
        }
        .btn-secondary:hover { background-color: #dcdce1; }
        
        .btn-dark {
            background-color: #333;
            color: white;
        }
        .btn-dark:hover {
            background-color: #555;
        }

        .btn-remove {
            background-color: #ffe5e9;
            color: var(--error-color);
            padding: 8px 14px;
            font-size: 0.8rem;
        }
        .btn-remove:hover { background-color: var(--error-color); color: white; }
        
        .btn-edit {
            background-color: #e6f7ff;
            color: #00609a;
            padding: 8px 14px;
            font-size: 0.8rem;
        }
        .btn-edit:hover { background-color: #ccefff; }

        .checkbox-group {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 12px;
        }
        .checkbox-group input[type="checkbox"] {
            width: 18px;
            height: 18px;
            cursor: pointer;
        }
        .checkbox-group label {
            font-weight: 500;
            color: var(--text-primary);
            flex-grow: 1;
        }
        
        .custom-add-form {
            display: flex;
            gap: 10px;
            margin-top: 20px;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
        }

        table {
            width: 100%; border-collapse: separate; border-spacing: 0;
            margin: 25px 0;
        }
        th, td { padding: 16px; text-align: left; border-bottom: 1px solid #f0f0f2;}
        thead th {
            background-color: var(--card-bg-color);
            color: var(--text-secondary);
            font-weight: 600;
            font-size: 0.9rem;
            border-top: 1px solid #f0f0f2;
        }
        tbody tr:last-child td { border-bottom: none; }
        td.actions-cell {
            display: flex;
            gap: 8px;
        }

        /* Style for draggable rows */
        tbody tr {
            cursor: grab;
        }
        .sortable-ghost {
            background: #e6f7ff;
            opacity: 0.7;
        }
        .sortable-drag {
            cursor: grabbing;
        }
        
        #itinerary { animation: fadeIn 0.8s ease-in-out; }
        .itinerary-summary {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            background-color: var(--bg-color);
            padding: 25px;
            border-radius: var(--radius-l);
            margin-bottom: 30px;
        }
        .summary-item { display: flex; align-items: center; gap: 12px; }
        .summary-item .icon { font-size: 1.5rem; color: var(--brand-blue); }
        .summary-item div { font-size: 0.9rem; }
        .summary-item strong { color: var(--text-primary); font-weight: 600; display: block; }
        .summary-item span { color: var(--text-secondary); }

        .total {
            font-size: 1.8rem;
            font-weight: 700;
            text-align: right;
            margin-top: 20px;
            padding: 20px 0;
            border-top: 1px solid var(--border-color);
        }
        .total span { color: var(--text-secondary); font-weight: 500; }

        .hidden { display: none; }

        #error-display {
            background-color: #fff0f2; color: var(--error-color);
            padding: 15px; border-radius: var(--radius-m);
            border-left: 5px solid var(--error-color);
            margin-bottom: 20px; text-align: center; font-weight: 600;
            animation: fadeIn 0.3s ease-out;
        }
        
        .day-timeline {
            position: relative;
            padding: 20px 0;
            margin-top: 40px; 
        }
        .day-timeline::before {
            content: '';
            position: absolute;
            left: 20px;
            top: 40px; 
            height: calc(100% - 80px); 
            width: 2px;
            background: #e8e8ed;
        }
        .day-entry {
            position: relative;
            margin-left: 60px;
            margin-bottom: 30px;
            background: var(--bg-color);
            border-radius: var(--radius-l);
            padding: 20px;
        }
        .day-entry:first-child::before {
            top: 18px; 
        }

        .day-entry::before {
            content: attr(data-day);
            position: absolute;
            left: -58px; top: 18px;
            width: 36px; height: 36px;
            background: var(--brand-blue);
            color: white;
            border-radius: 50%;
            display: grid;
            place-items: center;
            font-weight: 700;
            border: 4px solid var(--card-bg-color);
        }
        .day-entry h4 { margin: 0 0 15px 0; font-weight: 700; }
        .day-item-list { list-style-type: none; padding-left: 0; }
        .day-item-list li {
            display: flex; gap: 15px;
            align-items: flex-start;
            padding: 12px 0;
            border-bottom: 1px solid #e0e0e3;
        }
        .day-item-list li:last-child { border-bottom: none; }
        .day-item-list .icon { font-size: 1.2rem; color: var(--brand-blue); line-height: 1.6; }
        .day-item-list .item-details { display: flex; flex-direction: column; }
        .day-item-list .item-title { font-weight: 600; }
        .day-item-list .item-location { font-size: 0.9rem; color: var(--text-secondary); }

        .autocomplete-wrapper {
            position: relative;
        }
        .autocomplete-results {
            position: absolute;
            top: 100%;
            left: 0;
            right: 0;
            background-color: white;
            border: 1px solid var(--border-color);
            border-radius: 0 0 var(--radius-m) var(--radius-m);
            z-index: 1000;
            max-height: 250px;
            overflow-y: auto;
            box-shadow: 0 8px 15px rgba(0,0,0,0.1);
        }
        .autocomplete-item {
            padding: 12px 16px;
            cursor: pointer;
            border-bottom: 1px solid #f0f0f2;
        }
        .autocomplete-item:last-child {
            border-bottom: none;
        }
        .autocomplete-item:hover {
            background-color: var(--bg-color);
        }
        .autocomplete-item strong {
            font-weight: 600;
        }
        .autocomplete-item span {
            font-size: 0.9rem;
            color: var(--text-secondary);
            margin-left: 8px;
        }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }
    </style>
<style type="text/css">@import url('https://fonts.googleapis.com/css2?family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap');</style></head>
<body>
    <div class="container">
        <header>
            <h1>Travelverse Itinerary Planner</h1>
        </header>

        <div id="error-display" class="hidden"></div>
        
        <!-- FORM SECTIONS -->
        <div class="card">
            <h2>üë§ Traveler Details</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="clientName">Full Name</label>
                    <input type="text" id="clientName" placeholder="e.g., Jane Doe">
                </div>
                <div class="form-group">
                    <label for="clientEmail">Email</label>
                    <input type="email" id="clientEmail" placeholder="your@email.com">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="startDate">Start Date</label>
                    <input type="date" id="startDate" max="2025-08-07">
                </div>
                <div class="form-group">
                    <label for="endDate">End Date</label>
                    <input type="date" id="endDate" min="2025-07-29">
                </div>
                <div class="form-group">
                    <label for="country">Country</label>
                    <input type="text" id="country" placeholder="e.g., Italy">
                </div>
            </div>
            <p><strong>Number of Nights:</strong> <span id="nightsDisplay">9</span></p>
            <div class="form-group" style="margin-top: 20px;">
                <label for="place">Places to Travel</label>
                <div class="place-form" style="display:flex; gap:10px;">
                    <input type="text" id="place" placeholder="e.g., Rome">
                    <button id="addPlaceBtn" class="btn-secondary" onclick="addPlace()">Add Place</button>
                </div>
                <div id="placesList" style="margin-top:15px;"><span style="display:inline-flex; align-items:center; gap: 8px; background: #eef1f4; padding: 5px 10px; border-radius: 6px; margin-right: 10px; margin-bottom: 10px;">London <button class="btn-remove" style="padding: 2px 6px; font-size:12px;" onclick="removePlace(0)">‚úñ</button></span><span style="display:inline-flex; align-items:center; gap: 8px; background: #eef1f4; padding: 5px 10px; border-radius: 6px; margin-right: 10px; margin-bottom: 10px;">Paris <button class="btn-remove" style="padding: 2px 6px; font-size:12px;" onclick="removePlace(1)">‚úñ</button></span></div>
            </div>
            <div class="form-row" style="margin-top: 20px;">
                <div class="form-group">
                    <label for="adults">Adults</label>
                    <input type="number" id="adults" placeholder="1" min="1" value="1">
                </div>
                <div class="form-group">
                    <label for="kids">Kids</label>
                    <input type="number" id="kids" placeholder="0" min="0" value="0" oninput="updateKidsAges()">
                </div>
            </div>
            <div id="kidsAgesContainer" class="form-row"><div class="form-group"><label for="kidAge1">Age of Kid 1</label><input type="number" id="kidAge1" placeholder="e.g., 5" min="0" max="17"></div></div>
        </div>

        <div class="card">
            <h2>‚úàÔ∏è Flight Details (with Amadeus Search)</h2>

            <!-- Flight Search Section -->
            <div class="form-row">
                <div class="form-group">
                    <label for="searchDepartureText">Departure City/Airport</label>
                    <div class="autocomplete-wrapper" id="departure-wrapper">
                        <input type="text" id="searchDepartureText" placeholder="e.g., London" onkeyup="handleAirportSearch(this, &#39;departure&#39;)" autocomplete="off">
                        <input type="hidden" id="searchDeparture">
                        <div id="departure-autocomplete-results" class="autocomplete-results"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="searchArrivalText">Arrival City/Airport</label>
                     <div class="autocomplete-wrapper" id="arrival-wrapper">
                        <input type="text" id="searchArrivalText" placeholder="e.g., New York" onkeyup="handleAirportSearch(this, &#39;arrival&#39;)" autocomplete="off">
                        <input type="hidden" id="searchArrival">
                        <div id="arrival-autocomplete-results" class="autocomplete-results"></div>
                    </div>
                </div>
                <div class="form-group">
                    <label for="searchFlightDate">Flight Date</label>
                    <input type="date" id="searchFlightDate">
                </div>
            </div>
            <div class="form-row">
                 <div class="form-group full-width">
                    <button class="btn-dark" onclick="searchFlights()" style="width: 100%; padding: 16px;">Search Flights</button>
                </div>
            </div>
            <div id="flightSearchResults" style="margin-top: 20px;"></div>
            <!-- End of Flight Search -->

            <hr style="margin: 30px 0; border: none; border-top: 1px solid var(--border-color);">

            <div class="form-row">
                <div class="form-group">
                    <label for="airline">Airline</label>
                    <input type="text" id="airline" placeholder="Select from search results">
                </div>
                <div class="form-group">
                    <label for="departure">Departure Airport</label>
                    <input type="text" id="departure" placeholder="Select from search results">
                </div>
                <div class="form-group">
                    <label for="arrival">Arrival Airport</label>
                    <input type="text" id="arrival" placeholder="Select from search results">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="flightDate">Flight Date</label>
                    <input type="date" id="flightDate" min="2025-07-29" max="2025-08-07">
                </div>
                <div class="form-group">
                    <label for="flightCost">Cost (‚Çπ)</label>
                    <input type="number" id="flightCost" placeholder="0.00" min="0">
                </div>
                <div class="form-group">
                    <label for="flightDescription">Description</label>
                    <input type="text" id="flightDescription" placeholder="e.g., Direct Flight, 25 Kgs Baggage">
                </div>
            </div>
            <div id="flightActions" class="action-buttons">
                <button class="btn-secondary" onclick="addFlight()">+ Add Flight</button>
            </div>
        </div>
        
        <div class="card">
            <h2>üöÜ Train Details</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="trainName">Train Name/Operator</label>
                    <input type="text" id="trainName" placeholder="e.g., Eurostar">
                </div>
                <div class="form-group">
                    <label for="trainDate">Date</label>
                    <input type="date" id="trainDate" min="2025-07-29" max="2025-08-07">
                </div>
                <div class="form-group">
                    <label for="trainTime">Time</label>
                    <input type="time" id="trainTime">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="trainDescription">Description</label>
                    <input type="text" id="trainDescription" placeholder="e.g., Paris to London, First Class">
                </div>
                 <div class="form-group">
                    <label for="trainCost">Cost (‚Çπ)</label>
                    <input type="number" id="trainCost" placeholder="0.00" min="0">
                </div>
            </div>
            <div id="trainActions" class="action-buttons">
                <button class="btn-secondary" onclick="addTrain()">+ Add Train</button>
            </div>
        </div>

        <div class="card">
            <h2>üöå Bus Details</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="busName">Bus Name/Operator</label>
                    <input type="text" id="busName" placeholder="e.g., FlixBus">
                </div>
                <div class="form-group">
                    <label for="busDate">Date</label>
                    <input type="date" id="busDate" min="2025-07-29" max="2025-08-07">
                </div>
                 <div class="form-group">
                    <label for="busCost">Cost (‚Çπ)</label>
                    <input type="number" id="busCost" placeholder="0.00" min="0">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group full-width">
                    <label for="busDescription">Description</label>
                    <input type="text" id="busDescription" placeholder="e.g., Rome to Florence, scenic route">
                </div>
            </div>
            <div id="busActions" class="action-buttons">
                <button class="btn-secondary" onclick="addBus()">+ Add Bus</button>
            </div>
        </div>
        
        <div class="card">
            <h2>üöó Airport/Train Station Transfers</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="transferName">Transfer Name</label>
                    <input type="text" id="transferName" placeholder="e.g., Airport Pickup">
                </div>
                <div class="form-group">
                    <label for="transferType">Transfer Type</label>
                    <select id="transferType">
                        <option value="Private Car">Private Car</option>
                        <option value="Shuttle Bus">Shuttle Bus</option>
                        <option value="Train">Train</option>
                        <option value="Taxi">Taxi</option>
                        <option value="Other">Other</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="transferCost">Cost (‚Çπ)</label>
                    <input type="number" id="transferCost" placeholder="0.00" min="0">
                </div>
            </div>
            <div id="transferActions" class="action-buttons">
                <button class="btn-secondary" onclick="addTransfer()">+ Add Transfer</button>
            </div>
        </div>

        <div class="card">
            <h2>üè® Hotel Accommodations</h2>
            
            <h3>Search for Hotels with Amadeus</h3>
            <div class="form-row">
                <div class="form-group" style="grid-column: span 2;">
                    <label for="searchHotelCity">City Name</label>
                    <input type="text" id="searchHotelCity" placeholder="e.g., Paris">
                </div>
                <div class="form-group" style="align-self: flex-end;">
                     <button class="btn-dark" onclick="searchHotels()" style="width: 100%; padding: 16px;">Search Hotels</button>
                </div>
            </div>
            <div id="hotelSearchResults" style="margin-top: 15px;"></div>
            <hr style="margin: 30px 0; border: none; border-top: 1px solid var(--border-color);">
            
            <div class="form-row">
                <div class="form-group">
                    <label for="hotelName">Hotel Name</label>
                    <input type="text" id="hotelName" placeholder="e.g., Colosseum Hotel">
                </div>
                <div class="form-group">
                    <label for="hotelLocation">Location</label>
                    <input type="text" id="hotelLocation" placeholder="e.g., Rome">
                </div>
                <div class="form-group">
                    <label for="roomCategory">Room Category</label>
                    <input type="text" id="roomCategory" placeholder="e.g., Deluxe Room">
                </div>
            </div>
            <div class="form-row">
                <div class="form-group">
                    <label for="checkIn">Check-In Date</label>
                    <input type="date" id="checkIn" min="2025-07-29" max="2025-08-07">
                </div>
                <div class="form-group">
                    <label for="checkOut">Check-Out Date</label>
                    <input type="date" id="checkOut" disabled="">
                </div>
                <div class="form-group">
                    <label for="hotelCost">Total Cost (‚Çπ)</label>
                    <input type="number" id="hotelCost" placeholder="0.00" min="0">
                </div>
            </div>
            <div id="hotelActions" class="action-buttons">
                <button class="btn-secondary" onclick="addHotel()">+ Add Hotel</button>
            </div>
        </div>

        <div class="card">
            <h2>üèûÔ∏è Activities &amp; Tours</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="activityName">Activity Name</label>
                    <input type="text" id="activityName" placeholder="e.g., Colosseum Tour">
                </div>
                <div class="form-group">
                    <label for="activityLocation">Location</label>
                    <input type="text" id="activityLocation" placeholder="e.g., Rome">
                </div>
                <div class="form-group">
                    <label for="activityDate">Date</label>
                    <input type="date" id="activityDate" min="2025-07-29" max="2025-08-07">
                </div>
                 <div class="form-group">
                    <label for="activityCost">Cost (‚Çπ)</label>
                    <input type="number" id="activityCost" placeholder="0.00" min="0">
                </div>
            </div>
             <div class="form-row">
                <div class="form-group full-width">
                    <label for="activityDescription">Description</label>
                    <input type="text" id="activityDescription" placeholder="e.g., Private tour with guide">
                </div>
            </div>
            <div id="activityActions" class="action-buttons">
                <button class="btn-secondary" onclick="addActivity()">+ Add Activity</button>
            </div>
        </div>
        
        <div class="card">
            <h2>üí∞ Costing &amp; Margin</h2>
            <div class="form-row">
                <div class="form-group">
                    <label for="marginCost">Margin (‚Çπ)</label>
                    <input type="number" id="marginCost" placeholder="e.g., 10000.00" min="0">
                </div>
            </div>
        </div>

        <div class="card">
            <h2>üì¶ Inclusions &amp; Exclusions</h2>
            <div class="form-row" style="grid-template-columns: 1fr 1fr; gap: 40px;">
                <div>
                    <h3>Inclusions</h3>
                    <div id="inclusionsList"><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-0" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 0)" checked="">
                        <label for="inclusion-0">International Flight</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-1" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 1)" checked="">
                        <label for="inclusion-1">Internal Flight</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-2" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 2)" checked="">
                        <label for="inclusion-2">Private Airport Transfers</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-3" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 3)" checked="">
                        <label for="inclusion-3">Accommodation with breakfast</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-4" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 4)" checked="">
                        <label for="inclusion-4">Mentioned Sightseeings, transfers</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-5" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 5)" checked="">
                        <label for="inclusion-5">Inter hotel Transfers</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-6" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 6)" checked="">
                        <label for="inclusion-6">Visa</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="inclusion-7" onchange="toggleInclusionExclusion(&#39;inclusion&#39;, 7)" checked="">
                        <label for="inclusion-7">GST</label>
                        
                    </div></div>
                    <div class="custom-add-form">
                        <input type="text" id="customInclusion" placeholder="Add custom inclusion">
                        <button class="btn-secondary" onclick="addInclusionExclusion(&#39;inclusion&#39;)">Add</button>
                    </div>
                </div>
                <div>
                    <h3>Exclusions</h3>
                    <div id="exclusionsList"><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-0" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 0)" checked="">
                        <label for="exclusion-0">TCS</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-1" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 1)" checked="">
                        <label for="exclusion-1">Flights</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-2" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 2)" checked="">
                        <label for="exclusion-2">Beverages, Lunch, Dinner throughout the tours</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-3" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 3)" checked="">
                        <label for="exclusion-3">City tax at the Hotel if applicable</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-4" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 4)" checked="">
                        <label for="exclusion-4">Any other services not specified above</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-5" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 5)" checked="">
                        <label for="exclusion-5">Any Personal Expenses</label>
                        
                    </div><div class="checkbox-group">
                        <input type="checkbox" id="exclusion-6" onchange="toggleInclusionExclusion(&#39;exclusion&#39;, 6)" checked="">
                        <label for="exclusion-6">Early check in/Late check out</label>
                        
                    </div></div>
                    <div class="custom-add-form">
                        <input type="text" id="customExclusion" placeholder="Add custom exclusion">
                        <button class="btn-secondary" onclick="addInclusionExclusion(&#39;exclusion&#39;)">Add</button>
                    </div>
                </div>
            </div>
        </div>
        
        <button class="btn-primary" onclick="generateItinerary(true)">Generate Travel Plan</button>

        <!-- ITINERARY OUTPUT SECTION -->
        <div id="itinerary" class="">
            <div class="card">
                <h2>Trip Summary</h2>
                <div class="itinerary-summary">
                    <div class="summary-item"><span class="icon">üë§</span><div><strong>Name</strong><span id="itineraryClientName">Abhishek Nandwani</span></div></div>
                    <div class="summary-item"><span class="icon">üìß</span><div><strong>Email</strong><span id="itineraryClientEmail">explore@travelverse.in</span></div></div>
                    <div class="summary-item"><span class="icon">üìÖ</span><div><strong>Travel Dates</strong><span id="itineraryTravelDates">2025-07-29 to 2025-08-07</span></div></div>
                    <div class="summary-item"><span class="icon">üåç</span><div><strong>Country</strong><span id="itineraryCountry">India</span></div></div>
                    <div class="summary-item"><span class="icon">üìç</span><div><strong>Places</strong><span id="itineraryPlaces">London, Paris</span></div></div>
                    <div class="summary-item"><span class="icon">üåô</span><div><strong>Nights</strong><span id="itineraryNights">9</span></div></div>
                    <div class="summary-item"><span class="icon">üë•</span><div><strong>Travelers</strong><span id="itineraryTravelers">2 Adults, 1 Kids</span></div></div>
                </div>
                
                <div id="flights_section" style="display: block;">
                    <h2>Flights</h2>
                    <table id="flightsTable">
                        <thead>
                            <tr><th>Airline</th><th>From</th><th>To</th><th>Date</th><th>Cost</th><th>Action</th></tr>
                        </thead>
                        <tbody><tr><td>TAP PORTUGAL</td><td>LGW</td><td>JFK</td><td>2025-07-29</td><td>‚Çπ52,405.00</td><td class="actions-cell"><button class="btn-edit" onclick="editFlight(0)">Edit</button> <button class="btn-remove" onclick="removeFlight(0)">Remove</button></td></tr><tr><td>A.P.G. DISTRIBUTION SYSTEM</td><td>LGW</td><td>JFK</td><td>2025-07-29</td><td>‚Çπ30,059.00</td><td class="actions-cell"><button class="btn-edit" onclick="editFlight(1)">Edit</button> <button class="btn-remove" onclick="removeFlight(1)">Remove</button></td></tr></tbody>
                    </table>
                </div>

                <div id="trains_section" style="display: none;">
                    <h2>Trains</h2>
                    <table id="trainsTable">
                        <thead>
                            <tr><th>Operator</th><th>Date</th><th>Time</th><th>Description</th><th>Cost</th><th>Action</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="buses_section" style="display: none;">
                    <h2>Buses</h2>
                    <table id="busesTable">
                        <thead>
                            <tr><th>Operator</th><th>Date</th><th>Description</th><th>Cost</th><th>Action</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                 <div id="transfers_section" style="display: none;">
                    <h2>Transfers</h2>
                    <table id="transfersTable">
                        <thead>
                            <tr><th>Name</th><th>Type</th><th>Cost</th><th>Action</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="hotels_section" style="display: block;">
                    <h2>Hotels</h2>
                    <table id="hotelsTable">
                        <thead>
                            <tr><th>Name</th><th>Location</th><th>Room Category</th><th>Check-In</th><th>Check-Out</th><th>Total Cost</th><th>Action</th></tr>
                        </thead>
                        <tbody><tr><td>Hyatt</td><td>Rome</td><td>Deluxe</td><td>2025-07-29</td><td>2025-07-31</td><td>‚Çπ1,345.00</td><td class="actions-cell"><button class="btn-edit" onclick="editHotel(0)">Edit</button> <button class="btn-remove" onclick="removeHotel(0)">Remove</button></td></tr></tbody>
                    </table>
                </div>

                <div id="activities_section" style="display: none;">
                    <h2>Activities</h2>
                    <table id="activitiesTable">
                        <thead>
                            <tr><th>Activity</th><th>Description</th><th>Date</th><th>Cost</th><th>Action</th></tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>

                <div id="daywise_section" style="display: block;">
                    <h2>Day-wise Itinerary</h2>
                    <div id="dayWiseItinerary" class="day-timeline"><div class="day-entry" data-day="1"><h4>Tuesday, July 29</h4><ul class="day-item-list"><li><div class="item-details"><span class="item-title">‚úàÔ∏è Flight: TAP PORTUGAL to JFK</span><span class="item-location">1 stop(s). Duration: 14h 30m</span></div></li><li><div class="item-details"><span class="item-title">‚úàÔ∏è Flight: A.P.G. DISTRIBUTION SYSTEM to JFK</span><span class="item-location">Direct flight. Duration: 7h 50m</span></div></li><li><div class="item-details"><span class="item-title">üè® Check-in: Hyatt</span><span class="item-location">Rome</span></div></li></ul></div><div class="day-entry" data-day="3"><h4>Thursday, July 31</h4><ul class="day-item-list"><li><div class="item-details"><span class="item-title">üè® Check-out: Hyatt</span><span class="item-location">Rome</span></div></li></ul></div></div>
                </div>
                
                <div id="inc_exc_section_html" class="">
                     <div class="form-row" style="grid-template-columns: 1fr 1fr; gap: 40px; margin-top: 30px;">
                        <div>
                            <h3 style="font-size: 1.3rem;">Inclusions</h3>
                            <ul id="inclusionsListHtml" style="list-style-position: inside; padding-left: 10px; color: var(--text-secondary);"><li>International Flight</li><li>Internal Flight</li><li>Private Airport Transfers</li><li>Accommodation with breakfast</li><li>Mentioned Sightseeings, transfers</li><li>Inter hotel Transfers</li><li>Visa</li><li>GST</li></ul>
                        </div>
                        <div>
                            <h3 style="font-size: 1.3rem;">Exclusions</h3>
                            <ul id="exclusionsListHtml" style="list-style-position: inside; padding-left: 10px; color: var(--text-secondary);"><li>TCS</li><li>Flights</li><li>Beverages, Lunch, Dinner throughout the tours</li><li>City tax at the Hotel if applicable</li><li>Any other services not specified above</li><li>Any Personal Expenses</li><li>Early check in/Late check out</li></ul>
                        </div>
                    </div>
                </div>

                <div class="total">
                    <span>Total Estimated Cost: </span>‚Çπ<span id="totalCost">83,809.00</span>
                </div>

                <div style="display: flex; flex-wrap: wrap; gap: 15px; margin-top: 20px;">
                    <button class="btn-primary" onclick="downloadPDF(&#39;client&#39;)" style="flex-grow: 1;">üìÑ Download Client Quote</button>
                    <button class="btn-dark" onclick="downloadPDF(&#39;business&#39;)" style="flex-grow: 1;">üìà Download Business Copy</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        // --- DATA STATE AND ALL UI LOGIC ---
        let flights = [], trains = [], buses = [], hotels = [], activities = [], places = [], inclusions = [], exclusions = [], transfers = [];
        let currentlyEditing = null;
        const errorDisplay = document.getElementById("error-display");
        
        const predefinedInclusions = [ 'International Flight', 'Internal Flight', 'Private Airport Transfers', 'Accommodation with breakfast', 'Mentioned Sightseeings, transfers', 'Inter hotel Transfers', 'Visa', 'GST' ];
        const predefinedExclusions = [ 'TCS', 'Flights', 'Beverages, Lunch, Dinner throughout the tours', 'City tax at the Hotel if applicable', 'Any other services not specified above', 'Any Personal Expenses', 'Early check in/Late check out' ];

        let hotelSearchResultsData = []; // To store hotel search results temporarily

        function displayError(message) { errorDisplay.textContent = message; errorDisplay.classList.remove('hidden'); }
        function clearError() { if (!errorDisplay.classList.contains('hidden')) { errorDisplay.classList.add('hidden'); } }
        function calculateNights(start, end) { if (!start || !end) return 0; const startDate = new Date(start); const endDate = new Date(end); return (endDate > startDate) ? Math.ceil((endDate - startDate) / (1000 * 60 * 60 * 24)) : 0; }

        function saveData() {
            const data = {
                clientName: document.getElementById("clientName").value, clientEmail: document.getElementById("clientEmail").value,
                startDate: document.getElementById("startDate").value, endDate: document.getElementById("endDate").value,
                country: document.getElementById("country").value, adults: document.getElementById("adults").value,
                kids: document.getElementById("kids").value, places,
                marginCost: document.getElementById("marginCost").value,
                flights, trains, buses, transfers, hotels, activities, inclusions, exclusions
            };
            localStorage.setItem('travelItineraryData', JSON.stringify(data));
        }

        function loadData() {
            const savedData = localStorage.getItem('travelItineraryData');
            const data = savedData ? JSON.parse(savedData) : {};
            
            document.getElementById("clientName").value = data.clientName || '';
            document.getElementById("clientEmail").value = data.clientEmail || '';
            document.getElementById("startDate").value = data.startDate || '';
            document.getElementById("endDate").value = data.endDate || '';
            document.getElementById("country").value = data.country || '';
            document.getElementById("adults").value = data.adults || '1';
            document.getElementById("kids").value = data.kids || '0';
            document.getElementById("marginCost").value = data.marginCost || '';
            places = data.places || [];
            flights = data.flights || [];
            trains = data.trains || [];
            buses = data.buses || [];
            transfers = data.transfers || [];
            hotels = data.hotels || [];
            activities = data.activities || [];
            inclusions = data.inclusions || predefinedInclusions.map(text => ({ text, checked: true, custom: false }));
            exclusions = data.exclusions || predefinedExclusions.map(text => ({ text, checked: true, custom: false }));

            renderInclusionsExclusions();
            initializeDateLogic(); 
            updateKidsAges();
            renderPlaces();

            if (data.clientName) { generateItinerary(); }
        }
        
        function renderInclusionsExclusions() {
            const renderList = (type, listContainerId) => {
                const list = type === 'inclusion' ? inclusions : exclusions;
                const container = document.getElementById(listContainerId);
                container.innerHTML = '';
                list.forEach((item, index) => {
                    const div = document.createElement('div');
                    div.className = 'checkbox-group';
                    const checkboxId = `${type}-${index}`;
                    div.innerHTML = `
                        <input type="checkbox" id="${checkboxId}" onchange="toggleInclusionExclusion('${type}', ${index})" ${item.checked ? 'checked' : ''}>
                        <label for="${checkboxId}">${item.text}</label>
                        ${item.custom ? `<button class="btn-remove" style="padding: 2px 8px; font-size: 12px;" onclick="removeInclusionExclusion('${type}', ${index})">‚úñ</button>` : ''}
                    `;
                    container.appendChild(div);
                });
            };
            renderList('inclusion', 'inclusionsList');
            renderList('exclusion', 'exclusionsList');
            saveData();
        }

        function toggleInclusionExclusion(type, index) { const list = type === 'inclusion' ? inclusions : exclusions; list[index].checked = !list[index].checked; saveData(); if(!document.getElementById('itinerary').classList.contains('hidden')) { generateItinerary(); } }
        function addInclusionExclusion(type) { const inputId = type === 'inclusion' ? 'customInclusion' : 'customExclusion'; const input = document.getElementById(inputId); const text = input.value.trim(); if (text) { const list = type === 'inclusion' ? inclusions : exclusions; list.push({ text, checked: true, custom: true }); input.value = ''; renderInclusionsExclusions(); } }
        function removeInclusionExclusion(type, index) { const list = type === 'inclusion' ? inclusions : exclusions; list.splice(index, 1); renderInclusionsExclusions(); }

        function initializeDateLogic() {
            const startDateInput = document.getElementById('startDate');
            const endDateInput = document.getElementById('endDate');
            const checkInInput = document.getElementById('checkIn');
            const checkOutInput = document.getElementById('checkOut');
            const allEventDateInputs = document.querySelectorAll('#flightDate, #trainDate, #busDate, #activityDate, #checkIn');
            if (startDateInput.value) { endDateInput.min = startDateInput.value; }
            if (endDateInput.value) { startDateInput.max = endDateInput.value; }
            allEventDateInputs.forEach(input => {
                if (startDateInput.value) input.min = startDateInput.value; else input.removeAttribute('min');
                if (endDateInput.value) input.max = endDateInput.value; else input.removeAttribute('max');
            });
            if (checkInInput.value) {
                checkOutInput.disabled = false;
                checkOutInput.min = checkInInput.value;
                if (endDateInput.value) { checkOutInput.max = endDateInput.value; } else { checkOutInput.removeAttribute('max'); }
                if (checkOutInput.value && new Date(checkOutInput.value) < new Date(checkInInput.value)) { checkOutInput.value = ''; }
            } else {
                checkOutInput.disabled = true;
                checkOutInput.value = '';
            }
            document.getElementById("nightsDisplay").innerText = calculateNights(startDateInput.value, endDateInput.value);
            saveData();
        }

        document.getElementById('startDate').addEventListener('change', initializeDateLogic);
        document.getElementById('endDate').addEventListener('change', initializeDateLogic);
        document.getElementById('checkIn').addEventListener('change', initializeDateLogic);

        function updateKidsAges() { const kidsCount = parseInt(document.getElementById("kids").value) || 0; const container = document.getElementById("kidsAgesContainer"); container.innerHTML = ''; for (let i = 1; i <= kidsCount; i++) { const formGroup = document.createElement("div"); formGroup.className = "form-group"; formGroup.innerHTML = `<label for="kidAge${i}">Age of Kid ${i}</label><input type="number" id="kidAge${i}" placeholder="e.g., 5" min="0" max="17">`; container.appendChild(formGroup); } }
        function addPlace() { clearError(); const placeInput = document.getElementById("place"); const place = placeInput.value.trim(); if (!place) return displayError("Please enter a valid place name."); if (places.includes(place)) return displayError("This place has already been added."); places.push(place); renderPlaces(); placeInput.value = ''; saveData(); }
        function removePlace(index) { places.splice(index, 1); renderPlaces(); saveData(); if (!document.getElementById("itinerary").classList.contains('hidden')) generateItinerary(); }
        function renderPlaces() { document.getElementById("placesList").innerHTML = places.map((p, i) => `<span style="display:inline-flex; align-items:center; gap: 8px; background: #eef1f4; padding: 5px 10px; border-radius: 6px; margin-right: 10px; margin-bottom: 10px;">${p} <button class="btn-remove" style="padding: 2px 6px; font-size:12px;" onclick="removePlace(${i})">‚úñ</button></span>`).join(''); }
        function clearFormFields(fields) { fields.forEach(id => document.getElementById(id).value = ''); }
        
        // --- AMADEUS API LOGIC ---
        const amadeusApiKey = "1ciMolgKxVAZnaA5qemWoE0qqLn4o7go";
        const amadeusApiSecret = "rPYQYSFcgc67xHCr";
        let amadeusToken = { value: null, expires_at: 0 };
        let airportApiTimeout;

        async function getAmadeusToken() {
            if (amadeusToken.value && amadeusToken.expires_at > Date.now()) { return amadeusToken.value; }
            const tokenUrl = 'https://test.api.amadeus.com/v1/security/oauth2/token';
            const body = `grant_type=client_credentials&client_id=${amadeusApiKey}&client_secret=${amadeusApiSecret}`;
            const response = await fetch(tokenUrl, { method: 'POST', headers: { 'Content-Type': 'application/x-www-form-urlencoded' }, body });
            if (!response.ok) throw new Error("Could not authenticate with Amadeus. Check API Keys.");
            const data = await response.json();
            amadeusToken = { value: data.access_token, expires_at: Date.now() + (data.expires_in - 300) * 1000 };
            return amadeusToken.value;
        }

        // --- Flight Search ---
        function handleAirportSearch(inputElement, type) {
            clearTimeout(airportApiTimeout);
            const keyword = inputElement.value;
            const resultsContainer = document.getElementById(`${type}-autocomplete-results`);
            if (keyword.length < 3) {
                resultsContainer.innerHTML = '';
                document.getElementById(`search${type.charAt(0).toUpperCase() + type.slice(1)}`).value = ''; // Clear hidden IATA
                return;
            }
            airportApiTimeout = setTimeout(() => searchAirports(keyword, type), 350);
        }

        async function searchAirports(keyword, type) {
            const resultsContainer = document.getElementById(`${type}-autocomplete-results`);
            resultsContainer.innerHTML = '<div class="autocomplete-item"><i>Searching...</i></div>';
            try {
                const accessToken = await getAmadeusToken();
                const url = `https://test.api.amadeus.com/v1/reference-data/locations?subType=CITY,AIRPORT&keyword=${keyword}`;
                const response = await fetch(url, { headers: { 'Authorization': `Bearer ${accessToken}` }});
                if (!response.ok) throw new Error('Airport search failed');
                const { data } = await response.json();
                resultsContainer.innerHTML = '';
                if (data) {
                    data.slice(0, 7).forEach(location => {
                        const item = document.createElement('div');
                        item.className = 'autocomplete-item';
                        item.innerHTML = `<strong>${location.name}</strong> (${location.iataCode}) <span>${location.address.cityName}, ${location.address.countryName}</span>`;
                        item.addEventListener('mousedown', (e) => {
                            e.preventDefault();
                            selectAirport(location, type);
                        });
                        resultsContainer.appendChild(item);
                    });
                }
            } catch(error) {
                console.error('Airport Search Error:', error);
                resultsContainer.innerHTML = '<div class="autocomplete-item"><i>Error fetching results.</i></div>';
            }
        }
        
        function selectAirport(location, type) {
            const typeCapitalized = type.charAt(0).toUpperCase() + type.slice(1);
            document.getElementById(`search${typeCapitalized}Text`).value = `${location.name} (${location.iataCode})`;
            document.getElementById(`search${typeCapitalized}`).value = location.iataCode;
            document.getElementById(`${type}-autocomplete-results`).innerHTML = '';
        }

        document.addEventListener('click', function(event) {
            const depWrapper = document.getElementById('departure-wrapper');
            const arrWrapper = document.getElementById('arrival-wrapper');
            if (depWrapper && !depWrapper.contains(event.target)) {
                document.getElementById('departure-autocomplete-results').innerHTML = '';
            }
            if (arrWrapper && !arrWrapper.contains(event.target)) {
                document.getElementById('arrival-autocomplete-results').innerHTML = '';
            }
        });

        async function searchFlights() {
            clearError();
            const departureIata = document.getElementById('searchDeparture').value;
            const arrivalIata = document.getElementById('searchArrival').value;
            const flightDate = document.getElementById('searchFlightDate').value;
            const resultsContainer = document.getElementById('flightSearchResults');
            resultsContainer.innerHTML = '<p>Searching for flights with Amadeus...</p>';

            if (!departureIata || !arrivalIata || !flightDate) {
                displayError("Please select a Departure, Arrival, and Flight Date from the suggestions.");
                resultsContainer.innerHTML = '';
                return;
            }

            try {
                const accessToken = await getAmadeusToken();
                const searchUrl = `https://test.api.amadeus.com/v2/shopping/flight-offers?originLocationCode=${departureIata}&destinationLocationCode=${arrivalIata}&departureDate=${flightDate}&adults=1&currencyCode=INR&nonStop=false`;
                const response = await fetch(searchUrl, { headers: { 'Authorization': `Bearer ${accessToken}` } });
                if (!response.ok) {
                    const errorData = await response.json();
                    const msg = errorData.errors?.map(e => e.detail || e.title).join(' ') || "Failed to fetch flight offers.";
                    throw new Error(msg);
                }
                const data = await response.json();
                if (data.data && data.data.length > 0) {
                    displayAmadeusFlightResults(data.data, data.dictionaries);
                } else {
                    resultsContainer.innerHTML = '<p>No flights found for this route and date in the Amadeus test environment.</p>';
                }
            } catch (error) {
                console.error("Flight search error:", error);
                displayError(`Error: ${error.message}`);
                resultsContainer.innerHTML = '';
            }
        }

        function displayAmadeusFlightResults(flights, dictionaries) {
            const resultsContainer = document.getElementById('flightSearchResults');
            resultsContainer.innerHTML = '<h3>Select a Flight to Add:</h3>';
            const list = document.createElement('ul');
            list.style.listStyle = 'none'; list.style.padding = '0';
            flights.slice(0, 10).forEach(flight => {
                const listItem = document.createElement('li');
                listItem.className = 'autocomplete-item';
                const itinerary = flight.itineraries[0];
                const stops = itinerary.segments.length - 1;
                const firstSegment = itinerary.segments[0];
                const lastSegment = itinerary.segments[itinerary.segments.length - 1];
                const airlineName = dictionaries.carriers[firstSegment.carrierCode];
                const departureTime = new Date(firstSegment.departure.at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                const arrivalTime = new Date(lastSegment.arrival.at).toLocaleTimeString([], { hour: '2-digit', minute: '2-digit' });
                listItem.innerHTML = `
                    <strong>${airlineName}</strong> - Price: <strong>‚Çπ${flight.price.grandTotal}</strong><br>
                    ${firstSegment.departure.iataCode} ‚Üí ${lastSegment.arrival.iataCode} (${stops === 0 ? 'Direct' : stops + ' stop(s)'})<br>
                    Departs: ${departureTime} | Arrives: ${arrivalTime} | Duration: ${itinerary.duration.replace('PT','').replace('H','h ').replace('M','m')}
                `;
                 listItem.addEventListener('mousedown', (e) => {
                    e.preventDefault();
                    selectAmadeusFlight(flight, dictionaries);
                });
                list.appendChild(listItem);
            });
            resultsContainer.appendChild(list);
        }

        function selectAmadeusFlight(flight, dictionaries) {
            const itinerary = flight.itineraries[0];
            const firstSegment = itinerary.segments[0];
            const lastSegment = itinerary.segments[itinerary.segments.length - 1];
            const airlineName = dictionaries.carriers[firstSegment.carrierCode];
            const stops = itinerary.segments.length - 1;
            document.getElementById("airline").value = airlineName;
            document.getElementById("departure").value = firstSegment.departure.iataCode;
            document.getElementById("arrival").value = lastSegment.arrival.iataCode;
            document.getElementById("flightDate").value = firstSegment.departure.at.split('T')[0];
            document.getElementById("flightCost").value = parseFloat(flight.price.grandTotal).toFixed(2);
            document.getElementById("flightDescription").value = `${stops === 0 ? 'Direct flight' : stops + ' stop(s)'}. Duration: ${itinerary.duration.replace('PT','').replace('H','h ').replace('M','m')}`;
            document.getElementById('flightSearchResults').innerHTML = '';
            document.getElementById("flightDescription").focus();
        }

        // --- Hotel Search Functions (Corrected) ---
        async function searchHotels() {
            clearError();
            const city = document.getElementById('searchHotelCity').value;
            const checkInDate = document.getElementById('checkIn').value;
            const checkOutDate = document.getElementById('checkOut').value;
            const resultsContainer = document.getElementById('hotelSearchResults');
            
            if (!city || !checkInDate || !checkOutDate) {
                displayError("Please enter a City and select Check-In/Check-Out dates before searching for hotels.");
                return;
            }
            resultsContainer.innerHTML = `<p>Step 1: Finding location code for "${city}"...</p>`;

            try {
                const accessToken = await getAmadeusToken();
                
                const locationsResponse = await fetch(`https://test.api.amadeus.com/v1/reference-data/locations?subType=CITY,AIRPORT&keyword=${city}`, {
                    headers: { 'Authorization': `Bearer ${accessToken}` }
                });
                if (!locationsResponse.ok) throw new Error('Could not find location data.');
                
                const locationsData = await locationsResponse.json();
                if (!locationsData.data || locationsData.data.length === 0) {
                    throw new Error(`No location found for "${city}". Please be more specific.`);
                }
                
                const firstLocation = locationsData.data.find(loc => loc.subType === 'AIRPORT') || locationsData.data[0];
                const searchCode = firstLocation.iataCode;

                resultsContainer.innerHTML = `<p>Step 2: Searching for hotels near ${searchCode}...</p>`;

                const hotelSearchUrl = `https://test.api.amadeus.com/v2/shopping/hotel-offers?cityCode=${searchCode}&checkInDate=${checkInDate}&checkOutDate=${checkOutDate}&adults=1&currency=INR&paymentPolicy=NONE`;
                const hotelResponse = await fetch(hotelSearchUrl, {
                    headers: { 'Authorization': `Bearer ${accessToken}` }
                });

                if (!hotelResponse.ok) {
                    const errorData = await hotelResponse.json();
                    const msg = errorData.errors?.map(e => e.detail || e.title).join(' ') || "Failed to fetch hotel offers.";
                    throw new Error(msg);
                }
                const hotelData = await hotelResponse.json();
                
                if (hotelData.data && hotelData.data.length > 0) {
                    displayHotelResults(hotelData.data);
                } else {
                    resultsContainer.innerHTML = '<p>No hotels found for this city and dates. The Amadeus test database has limited availability. Please try another major city or different dates.</p>';
                }

            } catch(error) {
                console.error("Hotel Search Error:", error);
                displayError(`Hotel Search Error: ${error.message}`);
                resultsContainer.innerHTML = '';
            }
        }

        function displayHotelResults(hotels) {
            hotelSearchResultsData = hotels; 
            const resultsContainer = document.getElementById('hotelSearchResults');
            resultsContainer.innerHTML = '<h3>Select a Hotel to Add:</h3>';
            const list = document.createElement('ul');
            list.style.listStyle = 'none';
            list.style.padding = '0';
            
            hotels.slice(0, 10).forEach((offer, index) => {
                const hotel = offer.hotel;
                const listItem = document.createElement('li');
                listItem.className = 'autocomplete-item';

                const rating = hotel.rating ? `${'‚òÖ'.repeat(parseInt(hotel.rating))}` : 'No rating';
                const price = offer.offers?.[0]?.price?.total ? `‚Çπ${parseFloat(offer.offers[0].price.total).toLocaleString('en-IN')}` : 'Price not available';
                
                listItem.innerHTML = `
                    <strong>${hotel.name}</strong> - ${rating}<br>
                    <span>${hotel.address?.lines?.[0] || 'Address not available'}, ${hotel.address?.cityName || ''}</span>
                    <strong style="float: right;">${price}</strong>
                `;
                listItem.setAttribute('onclick', `selectHotelResult(${index})`);
                list.appendChild(listItem);
            });
            resultsContainer.appendChild(list);
        }
        
        function selectHotelResult(index) {
            try {
                const selectedOffer = hotelSearchResultsData[index];
                if (!selectedOffer) return;
                
                const hotel = selectedOffer.hotel;
                const offer = selectedOffer.offers[0];

                document.getElementById("hotelName").value = hotel.name || '';
                document.getElementById("hotelLocation").value = hotel.address?.cityName || document.getElementById('searchHotelCity').value;
                
                if (offer?.price?.total) {
                    document.getElementById("hotelCost").value = parseFloat(offer.price.total).toFixed(2);
                }

                let category = '';
                if (offer?.room?.typeEstimated?.category) {
                     category = offer.room.typeEstimated.category.replace(/_/g, " ");
                } else if (offer?.room?.description?.text) {
                    category = offer.room.description.text.split('\n')[0];
                }
                document.getElementById("roomCategory").value = category;

                document.getElementById('hotelSearchResults').innerHTML = '';
                hotelSearchResultsData = [];
                document.getElementById("hotelName").focus();
            } catch (e) {
                console.error("Error in selectHotelResult:", e);
                displayError("An error occurred selecting this hotel. Please try another or enter details manually.");
            }
        }

        // --- DATA MANIPULATION & UI RENDERING ---
        function resetFlightForm() {
            currentlyEditing = null;
            clearFormFields(["airline", "departure", "arrival", "flightDate", "flightCost", "flightDescription"]);
            document.getElementById("flightActions").innerHTML = `<button class="btn-secondary" onclick="addFlight()">+ Add Flight</button>`;
        }
        function addFlight() {
            const data = {
                airline: document.getElementById("airline").value.trim(),
                departure: document.getElementById("departure").value.trim(),
                arrival: document.getElementById("arrival").value.trim(),
                flightDate: document.getElementById("flightDate").value,
                flightCost: parseFloat(document.getElementById("flightCost").value) || 0,
                flightDescription: document.getElementById("flightDescription").value.trim()
            };
            if (!data.airline || !data.departure || !data.arrival || !data.flightDate) {
                return displayError("Please fill all required flight details.");
            }
            flights.push(data);
            saveData();
            if (!document.getElementById("itinerary").classList.contains("hidden")) {
                generateItinerary();
            }
            resetFlightForm();
        }
        function editFlight(index) {
            currentlyEditing = { type: "flight", index: index };
            const flight = flights[index];
            document.getElementById("airline").value = flight.airline;
            document.getElementById("departure").value = flight.departure;
            document.getElementById("arrival").value = flight.arrival;
            document.getElementById("flightDate").value = flight.flightDate;
            document.getElementById("flightCost").value = flight.flightCost;
            document.getElementById("flightDescription").value = flight.flightDescription;
            document.getElementById("flightActions").innerHTML = `<button class="btn-primary" onclick="updateFlight()">Update Flight</button> <button class="btn-secondary" onclick="resetFlightForm()">Cancel</button>`;
            document.getElementById("airline").focus();
        }
        function updateFlight() {
            const index = currentlyEditing.index;
            const data = {
                airline: document.getElementById("airline").value.trim(),
                departure: document.getElementById("departure").value.trim(),
                arrival: document.getElementById("arrival").value.trim(),
                flightDate: document.getElementById("flightDate").value,
                flightCost: parseFloat(document.getElementById("flightCost").value) || 0,
                flightDescription: document.getElementById("flightDescription").value.trim()
            };
            if (!data.airline || !data.departure || !data.arrival || !data.flightDate) {
                return displayError("Please fill all required flight details.");
            }
            flights[index] = data;
            saveData();
            generateItinerary();
            resetFlightForm();
        }
        function removeFlight(index) {
            flights.splice(index, 1);
            saveData();
            generateItinerary();
        }

        function resetTrainForm() {
            currentlyEditing = null;
            clearFormFields(["trainName", "trainDate", "trainTime", "trainDescription", "trainCost"]);
            document.getElementById("trainActions").innerHTML = `<button class="btn-secondary" onclick="addTrain()">+ Add Train</button>`;
        }
        function addTrain() {
            const data = {
                name: document.getElementById("trainName").value.trim(),
                date: document.getElementById("trainDate").value,
                time: document.getElementById("trainTime").value,
                description: document.getElementById("trainDescription").value.trim(),
                trainCost: parseFloat(document.getElementById("trainCost").value) || 0
            };
            if (!data.name || !data.date) {
                return displayError("Please fill Train Name and Date.");
            }
            trains.push(data);
            saveData();
            if (!document.getElementById("itinerary").classList.contains("hidden")) {
                generateItinerary();
            }
            resetTrainForm();
        }
        function editTrain(index) {
            currentlyEditing = { type: "train", index: index };
            const train = trains[index];
            document.getElementById("trainName").value = train.name;
            document.getElementById("trainDate").value = train.date;
            document.getElementById("trainTime").value = train.time;
            document.getElementById("trainDescription").value = train.description;
            document.getElementById("trainCost").value = train.trainCost;
            document.getElementById("trainActions").innerHTML = `<button class="btn-primary" onclick="updateTrain()">Update Train</button> <button class="btn-secondary" onclick="resetTrainForm()">Cancel</button>`;
            document.getElementById("trainName").focus();
        }
        function updateTrain() {
            const index = currentlyEditing.index;
            const data = {
                name: document.getElementById("trainName").value.trim(),
                date: document.getElementById("trainDate").value,
                time: document.getElementById("trainTime").value,
                description: document.getElementById("trainDescription").value.trim(),
                trainCost: parseFloat(document.getElementById("trainCost").value) || 0
            };
            if (!data.name || !data.date) {
                return displayError("Please fill Train Name and Date.");
            }
            trains[index] = data;
            saveData();
            generateItinerary();
            resetTrainForm();
        }
        function removeTrain(index) {
            trains.splice(index, 1);
            saveData();
            generateItinerary();
        }

        function resetBusForm() {
            currentlyEditing = null;
            clearFormFields(["busName", "busDate", "busDescription", "busCost"]);
            document.getElementById("busActions").innerHTML = `<button class="btn-secondary" onclick="addBus()">+ Add Bus</button>`;
        }
        function addBus() {
            const data = {
                name: document.getElementById("busName").value.trim(),
                date: document.getElementById("busDate").value,
                description: document.getElementById("busDescription").value.trim(),
                busCost: parseFloat(document.getElementById("busCost").value) || 0
            };
            if (!data.name || !data.date) {
                return displayError("Please fill Bus Name and Date.");
            }
            buses.push(data);
            saveData();
            if (!document.getElementById("itinerary").classList.contains("hidden")) {
                generateItinerary();
            }
            resetBusForm();
        }
        function editBus(index) {
            currentlyEditing = { type: "bus", index: index };
            const bus = buses[index];
            document.getElementById("busName").value = bus.name;
            document.getElementById("busDate").value = bus.date;
            document.getElementById("busDescription").value = bus.description;
            document.getElementById("busCost").value = bus.busCost;
            document.getElementById("busActions").innerHTML = `<button class="btn-primary" onclick="updateBus()">Update Bus</button> <button class="btn-secondary" onclick="resetBusForm()">Cancel</button>`;
            document.getElementById("busName").focus();
        }
        function updateBus() {
            const index = currentlyEditing.index;
            const data = {
                name: document.getElementById("busName").value.trim(),
                date: document.getElementById("busDate").value,
                description: document.getElementById("busDescription").value.trim(),
                busCost: parseFloat(document.getElementById("busCost").value) || 0
            };
            if (!data.name || !data.date) {
                return displayError("Please fill Bus Name and Date.");
            }
            buses[index] = data;
            saveData();
            generateItinerary();
            resetBusForm();
        }
        function removeBus(index) {
            buses.splice(index, 1);
            saveData();
            generateItinerary();
        }
        
        function resetTransferForm() {
            currentlyEditing = null;
            clearFormFields(["transferName", "transferType", "transferCost"]);
            document.getElementById("transferActions").innerHTML = `<button class="btn-secondary" onclick="addTransfer()">+ Add Transfer</button>`;
        }
        function addTransfer() {
            const data = {
                name: document.getElementById("transferName").value.trim(),
                type: document.getElementById("transferType").value,
                cost: parseFloat(document.getElementById("transferCost").value) || 0
            };
            if (!data.name || !data.type) {
                return displayError("Please fill Transfer Name and Type.");
            }
            transfers.push(data);
            saveData();
            if (!document.getElementById("itinerary").classList.contains("hidden")) {
                generateItinerary();
            }
            resetTransferForm();
        }
        function editTransfer(index) {
            currentlyEditing = { type: "transfer", index: index };
            const transfer = transfers[index];
            document.getElementById("transferName").value = transfer.name;
            document.getElementById("transferType").value = transfer.type;
            document.getElementById("transferCost").value = transfer.cost;
            document.getElementById("transferActions").innerHTML = `<button class="btn-primary" onclick="updateTransfer()">Update Transfer</button> <button class="btn-secondary" onclick="resetTransferForm()">Cancel</button>`;
            document.getElementById("transferName").focus();
        }
        function updateTransfer() {
            const index = currentlyEditing.index;
            const data = {
                name: document.getElementById("transferName").value.trim(),
                type: document.getElementById("transferType").value,
                cost: parseFloat(document.getElementById("transferCost").value) || 0
            };
            if (!data.name || !data.type) {
                return displayError("Please fill Transfer Name and Type.");
            }
            transfers[index] = data;
            saveData();
            generateItinerary();
            resetTransferForm();
        }
        function removeTransfer(index) {
            transfers.splice(index, 1);
            saveData();
            generateItinerary();
        }

        function resetHotelForm() {
            currentlyEditing = null;
            clearFormFields(["hotelName", "hotelLocation", "roomCategory", "checkIn", "checkOut", "hotelCost"]);
            initializeDateLogic();
            document.getElementById("hotelActions").innerHTML = `<button class="btn-secondary" onclick="addHotel()">+ Add Hotel</button>`;
        }
        function addHotel() {
            const data = {
                hotelName: document.getElementById("hotelName").value.trim(),
                hotelLocation: document.getElementById("hotelLocation").value.trim(),
                roomCategory: document.getElementById("roomCategory").value.trim(),
                checkIn: document.getElementById("checkIn").value,
                checkOut: document.getElementById("checkOut").value,
                hotelCost: parseFloat(document.getElementById("hotelCost").value) || 0
            };
            if (!data.hotelName || !data.hotelLocation || !data.checkIn || !data.checkOut) {
                return displayError("Please fill all required hotel details.");
            }
            if (new Date(data.checkOut) < new Date(data.checkIn)) {
                return displayError("Check-out date must be on or after the check-in date.");
            }
            hotels.push(data);
            saveData();
            if (!document.getElementById("itinerary").classList.contains("hidden")) {
                generateItinerary();
            }
            resetHotelForm();
        }
        function editHotel(index) {
            currentlyEditing = { type: "hotel", index: index };
            const hotel = hotels[index];
            document.getElementById("hotelName").value = hotel.hotelName;
            document.getElementById("hotelLocation").value = hotel.hotelLocation;
            document.getElementById("roomCategory").value = hotel.roomCategory;
            document.getElementById("checkIn").value = hotel.checkIn;
            document.getElementById("checkOut").value = hotel.checkOut;
            document.getElementById("hotelCost").value = hotel.hotelCost;
            initializeDateLogic();
            document.getElementById("hotelActions").innerHTML = `<button class="btn-primary" onclick="updateHotel()">Update Hotel</button> <button class="btn-secondary" onclick="resetHotelForm()">Cancel</button>`;
            document.getElementById("hotelName").focus();
        }
        function updateHotel() {
            const index = currentlyEditing.index;
            const data = {
                hotelName: document.getElementById("hotelName").value.trim(),
                hotelLocation: document.getElementById("hotelLocation").value.trim(),
                roomCategory: document.getElementById("roomCategory").value.trim(),
                checkIn: document.getElementById("checkIn").value,
                checkOut: document.getElementById("checkOut").value,
                hotelCost: parseFloat(document.getElementById("hotelCost").value) || 0
            };
            if (!data.hotelName || !data.hotelLocation || !data.checkIn || !data.checkOut) {
                return displayError("Please fill all required hotel details.");
            }
            if (new Date(data.checkOut) < new Date(data.checkIn)) {
                return displayError("Check-out date must be on or after the check-in date.");
            }
            hotels[index] = data;
            saveData();
            generateItinerary();
            resetHotelForm();
        }
        function removeHotel(index) {
            hotels.splice(index, 1);
            saveData();
            generateItinerary();
        }

        function resetActivityForm() {
            currentlyEditing = null;
            clearFormFields(["activityName", "activityLocation", "activityDate", "activityCost", "activityDescription"]);
            document.getElementById("activityActions").innerHTML = `<button class="btn-secondary" onclick="addActivity()">+ Add Activity</button>`;
        }
        function addActivity() {
            const data = {
                activityName: document.getElementById("activityName").value.trim(),
                activityLocation: document.getElementById("activityLocation").value.trim(),
                activityDate: document.getElementById("activityDate").value,
                activityCost: parseFloat(document.getElementById("activityCost").value) || 0,
                activityDescription: document.getElementById("activityDescription").value.trim()
            };
            if (!data.activityName || !data.activityLocation || !data.activityDate) {
                return displayError("Please fill at least the Activity Name, Location, and Date.");
            }
            activities.push(data);
            saveData();
            if (!document.getElementById("itinerary").classList.contains("hidden")) {
                generateItinerary();
            }
            resetActivityForm();
        }
        function editActivity(index) {
            currentlyEditing = { type: "activity", index: index };
            const activity = activities[index];
            document.getElementById("activityName").value = activity.activityName;
            document.getElementById("activityLocation").value = activity.activityLocation;
            document.getElementById("activityDate").value = activity.activityDate;
            document.getElementById("activityCost").value = activity.activityCost;
            document.getElementById("activityDescription").value = activity.activityDescription;
            document.getElementById("activityActions").innerHTML = `<button class="btn-primary" onclick="updateActivity()">Update Activity</button> <button class="btn-secondary" onclick="resetActivityForm()">Cancel</button>`;
            document.getElementById("activityName").focus();
        }
        function updateActivity() {
            const index = currentlyEditing.index;
            const data = {
                activityName: document.getElementById("activityName").value.trim(),
                activityLocation: document.getElementById("activityLocation").value.trim(),
                activityDate: document.getElementById("activityDate").value,
                activityCost: parseFloat(document.getElementById("activityCost").value) || 0,
                activityDescription: document.getElementById("activityDescription").value.trim()
            };
            if (!data.activityName || !data.activityLocation || !data.activityDate) {
                return displayError("Please fill at least the Activity Name, Location, and Date.");
            }
            activities[index] = data;
            saveData();
            generateItinerary();
            resetActivityForm();
        }
        function removeActivity(index) {
            activities.splice(index, 1);
            saveData();
            generateItinerary();
        }
        
        // --- Itinerary Generation & Rendering ---
        function generateItinerary(shouldScroll = false) {
            clearError();
            const clientName = document.getElementById("clientName").value.trim();
            const startDate = document.getElementById("startDate").value;
            const endDate = document.getElementById("endDate").value;
            if (!clientName || !startDate || !endDate) {
                if (!document.getElementById("itinerary").classList.contains("hidden")) {
                    displayError("Please fill in Traveler Name and Travel Dates.");
                }
                return;
            }
            document.getElementById("itinerary").classList.remove("hidden");
            document.getElementById("itineraryClientName").innerText = clientName;
            document.getElementById("itineraryClientEmail").innerText = document.getElementById("clientEmail").value || "N/A";
            document.getElementById("itineraryTravelDates").innerText = `${startDate} to ${endDate}`;
            document.getElementById("itineraryCountry").innerText = document.getElementById("country").value || "N/A";
            document.getElementById("itineraryPlaces").innerText = places.join(", ") || "N/A";
            document.getElementById("itineraryNights").innerText = calculateNights(startDate, endDate);
            document.getElementById("itineraryTravelers").innerText = `${document.getElementById("adults").value} Adults, ${document.getElementById("kids").value} Kids`;
            
            renderTables();
            renderAutomatedDayWise(startDate, endDate);
            
            const checkedInclusions = inclusions.filter(i => i.checked).map(i => `<li>${i.text}</li>`).join("");
            const checkedExclusions = exclusions.filter(e => e.checked).map(e => `<li>${e.text}</li>`).join("");
            document.getElementById("inclusionsListHtml").innerHTML = checkedInclusions;
            document.getElementById("exclusionsListHtml").innerHTML = checkedExclusions;
            
            if (checkedInclusions || checkedExclusions) {
                document.getElementById("inc_exc_section_html").classList.remove("hidden");
            } else {
                document.getElementById("inc_exc_section_html").classList.add("hidden");
            }
            
            const totalFlightCost = flights.reduce((sum, f) => sum + (f.flightCost || 0), 0);
            const totalTrainCost = trains.reduce((sum, t) => sum + (t.trainCost || 0), 0);
            const totalBusCost = buses.reduce((sum, b) => sum + (b.busCost || 0), 0);
            const totalTransferCost = transfers.reduce((sum, t) => sum + (t.cost || 0), 0);
            const totalHotelCost = hotels.reduce((sum, h) => sum + (h.hotelCost || 0), 0);
            const totalActivityCost = activities.reduce((sum, a) => sum + (a.activityCost || 0), 0);
            const marginCost = parseFloat(document.getElementById("marginCost").value) || 0;
            const totalCost = totalFlightCost + totalTrainCost + totalBusCost + totalTransferCost + totalHotelCost + totalActivityCost + marginCost;
            
            document.getElementById("totalCost").innerText = totalCost.toLocaleString("en-IN", { minimumFractionDigits: 2, maximumFractionDigits: 2 });
            
            makeTablesSortable();
            
            if (shouldScroll) {
                document.getElementById("itinerary").scrollIntoView({ behavior: "smooth" });
            }
        }

        function renderTables() {
            const formatCurrency = num => `‚Çπ${(num || 0).toLocaleString("en-IN", { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

            const render = (tableId, sectionId, data, columns, editFn, removeFn) => {
                const tableBody = document.getElementById(tableId).querySelector("tbody");
                const section = document.getElementById(sectionId);
                tableBody.innerHTML = "";
                if (data.length === 0) {
                    section.style.display = "none";
                    return;
                }
                section.style.display = "block";
                data.forEach((item, index) => {
                    const row = tableBody.insertRow();
                    columns.forEach(col => {
                        row.insertCell().textContent = col.render(item);
                    });
                    const actionCell = row.insertCell();
                    actionCell.className = "actions-cell";
                    actionCell.innerHTML = `<button class="btn-edit" onclick="${editFn}(${index})">Edit</button> <button class="btn-remove" onclick="${removeFn}(${index})">Remove</button>`;
                });
            };

            render("flightsTable", "flights_section", flights, [{ render: i => i.airline }, { render: i => i.departure }, { render: i => i.arrival }, { render: i => i.flightDate }, { render: i => formatCurrency(i.flightCost) }], "editFlight", "removeFlight");
            render("trainsTable", "trains_section", trains, [{ render: i => i.name }, { render: i => i.date }, { render: i => i.time || "N/A" }, { render: i => i.description }, { render: i => formatCurrency(i.trainCost) }], "editTrain", "removeTrain");
            render("busesTable", "buses_section", buses, [{ render: i => i.name }, { render: i => i.date }, { render: i => i.description }, { render: i => formatCurrency(i.busCost) }], "editBus", "removeBus");
            render("transfersTable", "transfers_section", transfers, [{ render: i => i.name }, { render: i => i.type }, { render: i => formatCurrency(i.cost) }], "editTransfer", "removeTransfer");
            render("hotelsTable", "hotels_section", hotels, [{ render: i => i.hotelName }, { render: i => i.hotelLocation }, { render: i => i.roomCategory }, { render: i => i.checkIn }, { render: i => i.checkOut }, { render: i => formatCurrency(i.hotelCost) }], "editHotel", "removeHotel");
            render("activitiesTable", "activities_section", activities, [{ render: i => i.activityName }, { render: i => i.activityDescription }, { render: i => i.activityDate }, { render: i => formatCurrency(i.activityCost) }], "editActivity", "removeActivity");
        }
        
        function makeTablesSortable() {
            if (typeof Sortable === 'undefined') {
                return;
            }
            const sortableOptions = (dataArray) => ({
                animation: 150,
                onEnd: evt => {
                    const [item] = dataArray.splice(evt.oldIndex, 1);
                    dataArray.splice(evt.newIndex, 0, item);
                    saveData();
                    generateItinerary();
                }
            });
            new Sortable(document.getElementById("flightsTable").querySelector("tbody"), sortableOptions(flights));
            new Sortable(document.getElementById("trainsTable").querySelector("tbody"), sortableOptions(trains));
            new Sortable(document.getElementById("busesTable").querySelector("tbody"), sortableOptions(buses));
            new Sortable(document.getElementById("transfersTable").querySelector("tbody"), sortableOptions(transfers));
            new Sortable(document.getElementById("hotelsTable").querySelector("tbody"), sortableOptions(hotels));
            new Sortable(document.getElementById("activitiesTable").querySelector("tbody"), sortableOptions(activities));
        }

        function renderAutomatedDayWise(startDateStr, endDateStr) {
            const container = document.getElementById("dayWiseItinerary");
            const section = document.getElementById("daywise_section");
            container.innerHTML = "";
            const totalNights = calculateNights(startDateStr, endDateStr);
            if (totalNights < 0) {
                section.style.display = "none";
                return;
            }
            const totalDays = totalNights + 1;
            let hasContent = false;
            const startDate = new Date(startDateStr);
            for (let i = 0; i < totalDays; i++) {
                const currentDate = new Date(startDate);
                currentDate.setUTCDate(currentDate.getUTCDate() + i);
                const dateString = currentDate.toISOString().split("T")[0];
                let eventsHtml = "";
                hotels.filter(h => h.checkOut === dateString).forEach(h => { eventsHtml += `<li><div class="item-details"><span class="item-title">üè® Check-out: ${h.hotelName}</span><span class="item-location">${h.hotelLocation}</span></div></li>`; });
                flights.filter(f => f.flightDate === dateString).forEach(f => { eventsHtml += `<li><div class="item-details"><span class="item-title">‚úàÔ∏è Flight: ${f.airline} to ${f.arrival}</span><span class="item-location">${f.flightDescription || "Details unavailable"}</span></div></li>`; });
                trains.filter(t => t.date === dateString).forEach(t => { eventsHtml += `<li><div class="item-details"><span class="item-title">üöÜ Train: ${t.name}</span><span class="item-location">${t.description || "Details unavailable"}</span></div></li>`; });
                buses.filter(b => b.date === dateString).forEach(b => { eventsHtml += `<li><div class="item-details"><span class="item-title">üöå Bus: ${b.name}</span><span class="item-location">${b.description || "Details unavailable"}</span></div></li>`; });
                hotels.filter(h => h.checkIn === dateString).forEach(h => { eventsHtml += `<li><div class="item-details"><span class="item-title">üè® Check-in: ${h.hotelName}</span><span class="item-location">${h.hotelLocation}</span></div></li>`; });
                activities.filter(a => a.activityDate === dateString).forEach(a => { eventsHtml += `<li><div class="item-details"><span class="item-title">üèûÔ∏è Activity: ${a.activityName}</span><span class="item-location">${a.activityLocation}</span></div></li>`; });
                if (eventsHtml) {
                    hasContent = true;
                    const dayHeader = `<h4>${currentDate.toLocaleDateString("en-US", { timeZone: "UTC", weekday: "long", month: "long", day: "numeric" })}</h4>`;
                    container.innerHTML += `<div class="day-entry" data-day="${i + 1}">${dayHeader}<ul class="day-item-list">${eventsHtml}</ul></div>`;
                }
            }
            section.style.display = hasContent ? "block" : "none";
        }
        
        function formatDateToDDMMYYYY(dateStr) {
            if (!dateStr || !dateStr.includes("-")) {
                return dateStr;
            }
            const [year, month, day] = dateStr.split("-");
            return `${day}-${month}-${year}`;
        }
        
        function downloadPDF(pdfType) {
            clearError();
            if (typeof window.jspdf === 'undefined' || typeof window.jspdf.jsPDF === 'undefined') {
                alert("PDF libraries not loaded. Please check your internet connection.");
                return;
            }
            if (!document.getElementById('clientName').value) {
                displayError("Cannot generate a PDF without a client name.");
                return;
            }

            try {
                const { jsPDF } = window.jspdf;
                const doc = new jsPDF({ orientation: 'p', unit: 'pt', format: 'a4' });
                
                const brandColor = '#05C3DE';
                const textColor = '#1d1d1f';
                const lightTextColor = '#515154';
                const borderColor = '#dee2e6';
                const backgroundColor = '#f5f5f7';
                const pageHeight = doc.internal.pageSize.height;
                const pageWidth = doc.internal.pageSize.width;
                const margin = 40;
                const usableWidth = pageWidth - (margin * 2);

                const sanitizeText = (text) => {
                    if (typeof text !== 'string' || !text) return '';
                    return text
                        .replace(/[`‚Äò‚Äô'‚Äú‚Äù"]/g, "")      
                        .replace(/\s\s+/g, ' ')         
                        .replace(/[^\x20-\x7E]/g, '')   
                        .trim();
                };
                
                const formatCurrencyForPDF = (num) => `INR ${ (num || 0).toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 })}`;

                doc.setFont('Helvetica');
                let yPos = 0;

                // --- Header ---
                doc.setFillColor(brandColor);
                doc.rect(0, 0, pageWidth, 112, 'F');
                doc.setFontSize(22).setFont('Helvetica', 'bold').setTextColor('#FFFFFF').text('Travelverse.in', margin, 40);
                doc.setFontSize(8).setFont('Helvetica', 'normal').setTextColor('#FFFFFF');
                doc.text('We Work, DLF Forum, CyberCity, Phase 3, Gurugram, Haryana 122002', margin, 58);
                doc.text('Email : explore@travelverse.in', margin, 70);
                doc.text('Phone : +919996968070', margin, 82);
                doc.text('Awarded for excellence by Govt. of India (Ministry of Statistical Organisation by Shree PR Meshram)', margin, 94);
                doc.setFontSize(10).setTextColor('#FFFFFF').text('www.travelverse.in', pageWidth - margin, 40, { align: 'right' });

                yPos = 140;
                
                const addSectionHeader = (title, underline = true) => {
                    checkPageBreak(60);
                    yPos += 35; 
                    doc.setFontSize(14).setFont('Helvetica', 'bold').setTextColor(textColor).text(title, margin, yPos);
                    if (underline) {
                        const textWidth = doc.getTextWidth(title);
                        doc.setDrawColor(borderColor); 
                        doc.setLineWidth(1.5);
                        doc.line(margin, yPos + 4, margin + textWidth, yPos + 4);
                    }
                    yPos += 25; 
                };

                const addBulletedList = (items) => {
                    doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor);
                    items.forEach(item => {
                        const itemLines = doc.splitTextToSize(`‚Ä¢  ${sanitizeText(item)}`, usableWidth - 10);
                        checkPageBreak((itemLines.length * 11) + 3);
                        doc.text(itemLines, margin + 10, yPos);
                        yPos += (itemLines.length * 11) + 3;
                    });
                };
                
                const checkPageBreak = (requiredHeight) => {
                    if (yPos + requiredHeight > pageHeight - margin) {
                        doc.addPage();
                        yPos = margin;
                        return true;
                    }
                    return false;
                };
                
                function drawBarcode(doc, x, y, width, height) {
                    const numBars = Math.floor(width / 1.5);
                    let currentX = x;
                    doc.setFillColor(textColor);
                    for (let i = 0; i < numBars; i++) {
                        const barWidth = Math.random() * 1.2 + 0.4;
                        if (currentX + barWidth > x + width) break;
                        doc.rect(currentX, y, barWidth, height, 'F');
                        currentX += barWidth + (Math.random() * 0.8 + 0.4);
                    }
                }

                function drawPlaneIcon(doc, x, y, size, color) {
                    doc.setDrawColor(color);
                    doc.setLineWidth(1.5);
                    doc.line(x, y, x + size, y);
                    doc.line(x + size * 0.4, y, x + size * 0.6, y - size * 0.4);
                    doc.line(x + size * 0.4, y, x + size * 0.6, y + size * 0.4);
                    doc.line(x + size * 0.8, y, x + size * 0.9, y - size * 0.25);
                }

                const clientName = sanitizeText(document.getElementById('clientName').value);
                const countryName = sanitizeText(document.getElementById('country').value) || 'Your Destination';
                const startDate = document.getElementById('startDate').value;
                const endDate = document.getElementById('endDate').value;
                const nights = calculateNights(startDate, endDate);
                const travelers = `${document.getElementById("adults").value} Adults, ${document.getElementById("kids").value} Kids`;
                const placesJoined = sanitizeText(places.join(", ")) || 'N/A';

                const cardX = margin;
                const cardY = yPos;
                const cardWidth = usableWidth;
                const cardHeight = 175;
                const cornerRadius = 20;
                const stubWidth = 160;
                const mainWidth = cardWidth - stubWidth;
                const separatorX = cardX + mainWidth;

                doc.setDrawColor(borderColor);
                doc.setFillColor('#FFFFFF');
                doc.roundedRect(cardX, cardY, cardWidth, cardHeight, cornerRadius, cornerRadius, 'FD');

                let contentX = cardX + 25;
                let contentY = cardY + 30;
                const col2X = contentX + 180; 

                doc.setFontSize(10).setFont('Helvetica', 'bold').setTextColor(brandColor).text("YOUR TRIP OVERVIEW", contentX, contentY);
                doc.setFontSize(22).setFont('Helvetica', 'bold').setTextColor(textColor).text(countryName, contentX, contentY + 25);
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor).text("CLIENT", contentX, contentY + 55);
                doc.setFontSize(12).setFont('Helvetica', 'bold').setTextColor(textColor).text(clientName, contentX, contentY + 70);
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor).text("DATES", col2X, contentY + 55);
                doc.setFontSize(12).setFont('Helvetica', 'bold').setTextColor(textColor).text(`${formatDateToDDMMYYYY(startDate)} to ${formatDateToDDMMYYYY(endDate)}`, col2X, contentY + 70);
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor).text("PLACES TO VISIT", contentX, contentY + 95);
                doc.setFontSize(10).setFont('Helvetica', 'bold').setTextColor(textColor);
                const placesLines = doc.splitTextToSize(placesJoined, col2X - contentX - 15);
                doc.text(placesLines, contentX, contentY + 108);
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor).text("TRAVELERS", col2X, contentY + 95);
                doc.setFontSize(12).setFont('Helvetica', 'bold').setTextColor(textColor).text(travelers, col2X, contentY + 108);
                doc.setLineDashPattern([2, 2], 0);
                doc.setDrawColor(borderColor).line(separatorX, cardY + 15, separatorX, cardY + cardHeight - 15);
                doc.setLineDashPattern([], 0);
                
                const stubCenterX = separatorX + stubWidth / 2;
                drawPlaneIcon(doc, stubCenterX - 15, cardY + 25, 30, brandColor);
                doc.setFontSize(10).setFont('Helvetica', 'bold').setTextColor(textColor).text("TRIP QUOTE", stubCenterX, cardY + 55, { align: 'center' });
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor).text("Prepared for:", stubCenterX, cardY + 75, { align: 'center' });
                doc.setFontSize(11).setFont('Helvetica', 'bold').setTextColor(textColor).text(clientName, stubCenterX, cardY + 90, { align: 'center' });
                const barcodeY = cardY + 110;
                const barcodeWidth = stubWidth - 30;
                const barcodeHeight = 35;
                drawBarcode(doc, stubCenterX - (barcodeWidth / 2), barcodeY, barcodeWidth, barcodeHeight);
                doc.setFont('Helvetica', 'normal').setFontSize(7).setTextColor(lightTextColor).text("0123456789-TRVL-9876543210", stubCenterX, barcodeY + barcodeHeight + 7, { align: 'center'});
                yPos = cardY + cardHeight;
                
                const tableConfig = {
                    theme: 'plain',
                    styles: {
                        font: 'Helvetica',
                        fontSize: 9,
                        cellPadding: 8,
                        textColor: textColor,
                        valign: 'middle',
                    },
                    headStyles: {
                        fillColor: brandColor,
                        textColor: '#ffffff',
                        fontStyle: 'bold',
                        fontSize: 10,
                    },
                    alternateRowStyles: {
                        fillColor: backgroundColor
                    },
                    startY: yPos,
                    didDrawPage: (data) => {
                        yPos = data.cursor.y;
                    },
                    didDrawTable: (data) => {
                        const { table } = data;
                        const { x, y, width, height } = table;
                        const headerHeight = table.head[0].height;
                        const cornerRadius = 6;

                        doc.setLineWidth(1);
                        doc.setDrawColor(borderColor);
                        doc.roundedRect(x, y, width, height, cornerRadius, cornerRadius, 'S');
                        
                        doc.save();
                        doc.beginPath();
                        doc.moveTo(x + cornerRadius, y);
                        doc.lineTo(x + width - cornerRadius, y);
                        doc.quadraticCurveTo(x + width, y, x + width, y + cornerRadius);
                        doc.lineTo(x + width, y + headerHeight);
                        doc.lineTo(x, y + headerHeight);
                        doc.lineTo(x, y + cornerRadius);
                        doc.quadraticCurveTo(x, y, x + cornerRadius, y);
                        doc.closePath();
                        doc.clip();
                        
                        doc.setFillColor(brandColor);
                        doc.rect(x, y, width, headerHeight, 'F');
                        
                        doc.restore();

                        doc.setTextColor('#ffffff');
                        doc.setFont('Helvetica', 'bold');
                        doc.setFontSize(10);
                        table.head[0].cells.forEach(cell => {
                            const textY = cell.y + cell.height / 2;
                            doc.text(
                                cell.text,
                                cell.x + cell.padding('left'),
                                textY,
                                {
                                    baseline: 'middle',
                                    align: cell.styles.halign
                                }
                            );
                        });
                    }
                };
                const isClientPDF = (pdfType === 'client');

                if (flights.length > 0) {
                    addSectionHeader('Flights'); 
                    tableConfig.startY = yPos;
                    doc.autoTable({ ...tableConfig, head: isClientPDF ? [['Airline', 'Route', 'Date', 'Description']] : [['Airline', 'Route', 'Date', 'Description', 'Cost']], body: flights.map(f => { const row = [sanitizeText(f.airline), `${sanitizeText(f.departure)} to ${sanitizeText(f.arrival)}`, formatDateToDDMMYYYY(f.flightDate), sanitizeText(f.flightDescription)]; if (!isClientPDF) row.push(formatCurrencyForPDF(f.flightCost)); return row; }), columnStyles: { 0: { cellWidth: 100 }, 1: { cellWidth: 100 }, 2: { cellWidth: 70 }, 3: { overflow: 'linebreak' }, 4: !isClientPDF ? {halign: 'right'} : {} } }); yPos = doc.autoTable.previous.finalY;
                }
                 if (trains.length > 0) {
                    addSectionHeader('Train Details');
                    tableConfig.startY = yPos;
                    doc.autoTable({ ...tableConfig, head: isClientPDF ? [['Operator', 'Date', 'Time', 'Description']] : [['Operator', 'Date', 'Time', 'Description', 'Cost']], body: trains.map(t => { const row = [sanitizeText(t.name), formatDateToDDMMYYYY(t.date), t.time || '', sanitizeText(t.description)]; if (!isClientPDF) row.push(formatCurrencyForPDF(t.trainCost)); return row; }), columnStyles: { 1: { cellWidth: 70 }, 3: { overflow: 'linebreak' }, 4: !isClientPDF ? { halign: 'right' } : {} } }); yPos = doc.autoTable.previous.finalY;
                }
                if (buses.length > 0) {
                    addSectionHeader('Bus Details');
                    tableConfig.startY = yPos;
                    doc.autoTable({ ...tableConfig, head: isClientPDF ? [['Operator', 'Date', 'Description']] : [['Operator', 'Date', 'Description', 'Cost']], body: buses.map(b => { const row = [sanitizeText(b.name), formatDateToDDMMYYYY(b.date), sanitizeText(b.description)]; if (!isClientPDF) row.push(formatCurrencyForPDF(b.busCost)); return row; }), columnStyles: { 1: { cellWidth: 70 }, 2: { overflow: 'linebreak' }, 3: !isClientPDF ? { halign: 'right' } : {} } }); yPos = doc.autoTable.previous.finalY;
                }
                if (transfers.length > 0) {
                    addSectionHeader('Transfers');
                    tableConfig.startY = yPos;
                    doc.autoTable({ ...tableConfig, head: isClientPDF ? [['Name', 'Type']] : [['Name', 'Type', 'Cost']], body: transfers.map(t => { const row = [sanitizeText(t.name), sanitizeText(t.type)]; if (!isClientPDF) row.push(formatCurrencyForPDF(t.cost)); return row; }), columnStyles: { 2: !isClientPDF ? { halign: 'right' } : {} } }); yPos = doc.autoTable.previous.finalY;
                }
                if (hotels.length > 0) {
                    addSectionHeader('Accommodations');
                    tableConfig.startY = yPos;
                    const hotelColumnStyles = isClientPDF 
                        ? { 3: { cellWidth: 75 }, 4: { cellWidth: 75 }, 5: { cellWidth: 50, halign: 'center' } } 
                        : { 3: { cellWidth: 65 }, 4: { cellWidth: 65 }, 5: { cellWidth: 50, halign: 'center' }, 6: { halign: 'right' } };
                    
                    doc.autoTable({ ...tableConfig, head: isClientPDF ? [['Hotel', 'Location', 'Room Category', 'Check-in', 'Check-out', 'Nights']] : [['Hotel', 'Location', 'Room Category', 'Check-in', 'Check-out', 'Nights', 'Total Cost']], 
                    body: hotels.map(h => { const hotelNights = calculateNights(h.checkIn, h.checkOut); const row = [sanitizeText(h.hotelName), sanitizeText(h.hotelLocation), sanitizeText(h.roomCategory), formatDateToDDMMYYYY(h.checkIn), formatDateToDDMMYYYY(h.checkOut), hotelNights]; if (!isClientPDF) row.push(formatCurrencyForPDF(h.hotelCost)); return row; }), 
                    columnStyles: hotelColumnStyles
                    }); 
                    yPos = doc.autoTable.previous.finalY;
                }
                if (activities.length > 0) {
                    addSectionHeader('Sightseeings');
                    tableConfig.startY = yPos;
                    doc.autoTable({ ...tableConfig, head: isClientPDF ? [['Activity', 'Location', 'Date', 'Description']] : [['Activity', 'Location', 'Date', 'Description', 'Cost']], body: activities.map(a => { const row = [sanitizeText(a.activityName), sanitizeText(a.activityLocation), formatDateToDDMMYYYY(a.activityDate), sanitizeText(a.activityDescription) || '']; if (!isClientPDF) row.push(formatCurrencyForPDF(a.activityCost)); return row; }), 
                    columnStyles: { 
                        0: { cellWidth: 200, overflow: 'linebreak' }, 
                        1: { cellWidth: 80 }, 
                        2: { cellWidth: 70 }, 
                        3: { overflow: 'linebreak' }, 
                        4: !isClientPDF ? { halign: 'right' } : {} 
                    } 
                }); yPos = doc.autoTable.previous.finalY;
                }
                
                const dayWiseData = [];
                if (nights >= 0 && startDate) { 
                    const start = new Date(startDate);
                    for (let i = 0; i <= nights; i++) {
                        const d = new Date(start); d.setUTCDate(d.getUTCDate() + i); const dateStr = d.toISOString().split('T')[0];
                        let events = [];
                        hotels.filter(h => h.checkOut === dateStr).forEach(h => events.push(`Check-out: ${sanitizeText(h.hotelName)}, ${sanitizeText(h.hotelLocation)}`));
                        flights.filter(f => f.flightDate === dateStr).forEach(f => events.push(`Flight: ${sanitizeText(f.airline)} (${sanitizeText(f.departure)} to ${sanitizeText(f.arrival)})`));
                        trains.filter(t => t.date === dateStr).forEach(t => events.push(`Train: ${sanitizeText(t.name)} - ${sanitizeText(t.description)}`));
                        buses.filter(b => b.date === dateStr).forEach(b => events.push(`Bus: ${sanitizeText(b.name)} - ${sanitizeText(b.description)}`));
                        hotels.filter(h => h.checkIn === dateStr).forEach(h => events.push(`Check-in: ${sanitizeText(h.hotelName)}, ${sanitizeText(h.hotelLocation)}`));
                        activities.filter(a => a.activityDate === dateStr).forEach(a => events.push(`Activity: ${sanitizeText(a.activityName)} (${sanitizeText(a.activityLocation)})`));
                        
                        if (events.length > 0) {
                            dayWiseData.push({
                                day: i + 1,
                                date: d.toLocaleDateString('en-GB', { weekday: 'long', year: 'numeric', month: 'long', day: 'numeric', timeZone: 'UTC' }),
                                events: events
                            });
                        }
                    }
                }
                
                if (dayWiseData.length > 0) {
                    addSectionHeader('Day-wise Itinerary');
                    yPos += 15;

                    const timelineX = margin + 10;
                    const contentX = timelineX + 25;
                    const contentWidth = usableWidth - (contentX - margin);
                    
                    const dayElementPositions = [];

                    dayWiseData.forEach(dayData => {
                        let requiredHeight = 0;
                        const headerHeight = 25;
                        let eventsHeight = 0;
                        dayData.events.forEach(event => {
                            const lines = doc.splitTextToSize(`‚Ä¢ ${event}`, contentWidth - 5);
                            eventsHeight += (lines.length * 10) + 8;
                        });
                        requiredHeight = headerHeight + eventsHeight + 20;

                        checkPageBreak(requiredHeight);
                        dayElementPositions.push({ y: yPos, page: doc.internal.getCurrentPageInfo().pageNumber, data: dayData });
                        
                        let currentContentY = yPos;
                        doc.setFontSize(11).setFont('Helvetica', 'bold').setTextColor(textColor).text(`Day ${dayData.day}: ${dayData.date}`, contentX, currentContentY);
                        currentContentY += 20;

                        doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor);
                        dayData.events.forEach(event => {
                            const eventLines = doc.splitTextToSize(`‚Ä¢ ${event}`, contentWidth - 5);
                            doc.text(eventLines, contentX, currentContentY);
                            currentContentY += (eventLines.length * 10) + 8;
                        });
                        yPos = currentContentY + 15;
                    });
                    
                    const totalPages = doc.internal.getNumberOfPages();
                    for(let page = 1; page <= totalPages; page++) {
                        doc.setPage(page);
                        const elementsOnPage = dayElementPositions.filter(p => p.page === page);
                        if(elementsOnPage.length > 0) {
                            const firstElementY = elementsOnPage[0].y;
                            const lastElementY = elementsOnPage[elementsOnPage.length - 1].y;
                            doc.setDrawColor(borderColor).setLineWidth(1.5).line(timelineX, firstElementY, timelineX, lastElementY);

                            elementsOnPage.forEach(pos => {
                                doc.setFillColor('#FFFFFF').circle(timelineX, pos.y, 11, 'F');
                                doc.setFillColor(brandColor).circle(timelineX, pos.y, 10, 'F');
                                doc.setFontSize(9).setFont('Helvetica', 'bold').setTextColor('#FFFFFF').text(String(pos.data.day), timelineX, pos.y + 3, { align: 'center' });
                            });
                        }
                    }
                    doc.setPage(totalPages);
                }
                
                const addIncExcList = (title, items) => { const checkedItems = items.filter(item => item.checked).map(item => sanitizeText(item.text)); if (checkedItems.length === 0) return; addSectionHeader(title); addBulletedList(checkedItems); };
                addIncExcList('Inclusions', inclusions); addIncExcList('Exclusions', exclusions);
                
                const totalFlightCost = flights.reduce((s, f) => s + (f.flightCost || 0), 0);
                const totalTrainCost = trains.reduce((s, t) => s + (t.trainCost || 0), 0);
                const totalBusCost = buses.reduce((s, b) => s + (b.busCost || 0), 0);
                const totalTransferCost = transfers.reduce((s, t) => s + (t.cost || 0), 0);
                const totalHotelCost = hotels.reduce((s, h) => s + (h.hotelCost || 0), 0);
                const totalActivityCost = activities.reduce((s, a) => s + (a.activityCost || 0), 0);
                const marginCost = parseFloat(document.getElementById("marginCost").value) || 0;
                const totalCost = totalFlightCost + totalTrainCost + totalBusCost + totalTransferCost + totalHotelCost + totalActivityCost + marginCost;

                checkPageBreak(isClientPDF ? 80 : 120);
                yPos += 30; doc.setDrawColor(borderColor).line(margin, yPos, pageWidth - margin, yPos); yPos += 10;
                
                if (!isClientPDF) {
                    const subtotal = totalCost - marginCost;
                    doc.setFontSize(12).setFont('Helvetica', 'normal').setTextColor(lightTextColor);
                    doc.text('Subtotal', margin, yPos + 15);
                    doc.text(formatCurrencyForPDF(subtotal), pageWidth - margin, yPos + 15, { align: 'right' });
                    yPos += 20;

                    doc.text('Margin', margin, yPos + 15);
                    doc.text(formatCurrencyForPDF(marginCost), pageWidth - margin, yPos + 15, { align: 'right' });
                    yPos += 20;
                }

                doc.setFontSize(16).setFont('Helvetica', 'bold').setTextColor(textColor);
                doc.text('Total Estimated Cost', margin, yPos + 15);
                doc.text(formatCurrencyForPDF(totalCost), pageWidth - margin, yPos + 15, { align: 'right' });
                yPos += 25; doc.line(margin, yPos, pageWidth - margin, yPos); yPos += 10;

                const aboutText = "At Travelverse, we believe travel should be extraordinary. Born from a passion for exploring, we specialize in crafting unique, tailor-made journeys that match your personal style. We handle all the details, from handpicking the best local partners to providing seamless support, so you can focus on creating unforgettable memories. With Travelverse, you get more than a trip; you get a perfectly organized, stress-free adventure designed just for you.";
                addSectionHeader('About Travelverse.in');
                const aboutLines = doc.splitTextToSize(aboutText, usableWidth);
                checkPageBreak(aboutLines.length * 12);
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor);
                doc.text(aboutText, margin, yPos, { maxWidth: usableWidth, align: 'justify' });
                yPos += (aboutLines.length * 11) + 10;

                addSectionHeader('Terms & Conditions');
                const terms = [
                    "This document is a quotation; no bookings have been made. All services are subject to availability at the time of booking.",
                    "To confirm the booking, a deposit of 50% of the total tour price is required.",
                    "All prices are quoted in INR and are subject to change without notice due to currency fluctuations, new government taxes, or other factors beyond our control.",
                    "We act as agents for hotels, airlines, and transport operators, and are not liable for any loss, injury, or damage sustained by the traveler directly or indirectly.",
                    "Please ensure you possess a valid passport and any required visas for the duration of your trip. Visa assistance is an optional service."
                ];
                addBulletedList(terms);
                
                addSectionHeader('Download Our On-Trip App');
                const appText = "For live updates, offline access to your documents, and direct communication with our team during your trip, download our dedicated mobile app.";
                const appTextLines = doc.splitTextToSize(appText, usableWidth);
                checkPageBreak((appTextLines.length * 12) + 80);
                doc.setFontSize(9).setFont('Helvetica', 'normal').setTextColor(lightTextColor);
                doc.text(appText, margin, yPos, { maxWidth: usableWidth, align: 'justify' });
                yPos += (appTextLines.length * 11) + 25;

                const appStoreLink = "https://apps.apple.com/cn/app/travelverse-in/id6739727152";
                const playStoreLink = "https://play.google.com/store/apps/details?id=com.travelverse.travelverse_mobile_app&hl=en_IN";
                
                const buttonWidth = (usableWidth / 2) - 10;
                const buttonHeight = 40;
                const buttonRadius = 12;
                const buttonY = yPos;

                const appleButtonX = margin;
                doc.setDrawColor(borderColor);
                doc.setFillColor('#f0f0f2');
                doc.roundedRect(appleButtonX, buttonY, buttonWidth, buttonHeight, buttonRadius, buttonRadius, 'FD');
                doc.link(appleButtonX, buttonY, buttonWidth, buttonHeight, { url: appStoreLink });
                const appleIconX = appleButtonX + 22;
                const appleIconY = buttonY + (buttonHeight / 2);
                doc.setDrawColor(textColor);
                doc.setLineWidth(2.5);
                doc.line(appleIconX - 6, appleIconY + 8, appleIconX, appleIconY - 8);
                doc.line(appleIconX, appleIconY - 8, appleIconX + 6, appleIconY + 8);
                doc.setLineWidth(2);
                doc.line(appleIconX - 3.5, appleIconY + 1, appleIconX + 3.5, appleIconY + 1);
                const appleTextX = appleButtonX + 45;
                doc.setFont('Helvetica', 'normal');
                doc.setFontSize(9).setTextColor(lightTextColor).text('Download on the', appleTextX, buttonY + 18);
                doc.setFont('Helvetica', 'bold');
                doc.setFontSize(12).setTextColor(textColor).text('App Store', appleTextX, buttonY + 32);

                const googleButtonX = margin + buttonWidth + 20;
                doc.setDrawColor(borderColor);
                doc.setFillColor('#f0f0f2');
                doc.roundedRect(googleButtonX, buttonY, buttonWidth, buttonHeight, buttonRadius, buttonRadius, 'FD');
                doc.link(googleButtonX, buttonY, buttonWidth, buttonHeight, { url: playStoreLink });
                const playIconX = googleButtonX + 22;
                const playIconY = buttonY + (buttonHeight / 2);
                doc.setFillColor(textColor);
                doc.triangle(playIconX - 5, playIconY - 7, playIconX - 5, playIconY + 7, playIconX + 5, playIconY, 'F');
                const googleTextX = googleButtonX + 45;
                doc.setFont('Helvetica', 'normal');
                doc.setFontSize(9).setTextColor(lightTextColor).text('GET IT ON', googleTextX, buttonY + 18);
                doc.setFont('Helvetica', 'bold');
                doc.setFontSize(12).setTextColor(textColor).text('Google Play', googleTextX, buttonY + 32);
                
                yPos = buttonY + buttonHeight + 10;
                
                const pageCount = doc.internal.getNumberOfPages();
                for (let i = 1; i <= pageCount; i++) {
                    doc.setPage(i);
                    doc.setFontSize(8).setFont('Helvetica', 'normal').setTextColor(lightTextColor);
                    doc.text(`Page ${i} of ${pageCount}`, pageWidth - margin, pageHeight - 20, { align: 'right' });
                }

                doc.setPage(pageCount);
                const footerHeight = 60;
                if (pageHeight - yPos < footerHeight + margin) {
                   doc.addPage();
                   const newPageCount = doc.internal.getNumberOfPages();
                   for (let i = 1; i <= newPageCount; i++) { doc.setPage(i); doc.text(`Page ${i} of ${newPageCount}`, pageWidth - margin, pageHeight - 20, { align: 'right' });}
                   doc.setPage(newPageCount);
                }
                doc.setFillColor(brandColor);
                doc.rect(0, pageHeight - footerHeight, pageWidth, footerHeight, 'F');
                const footerLine1 = `Crafted by Travelverse for ${clientName}.`;
                const footerLine2 = `Where every journey is designed around your vibe.`;
                doc.setFontSize(10).setFont('Helvetica', 'bold').setTextColor('#FFFFFF');
                doc.text(footerLine1, pageWidth / 2, pageHeight - footerHeight + 28, { align: 'center' });
                doc.setFontSize(9).setFont('Helvetica', 'normal');
                doc.text(footerLine2, pageWidth / 2, pageHeight - footerHeight + 45, { align: 'center' });
                
                const fileName = `Itinerary_${isClientPDF ? 'Client' : 'Business'}_${clientName.replace(/\s/g, '_')}_${formatDateToDDMMYYYY(startDate)}.pdf`;
                doc.save(fileName);

            } catch (error) {
                console.error("An unexpected error occurred during PDF generation:", error);
                alert("An unexpected error occurred while creating the PDF. Check the console for details.");
            }
        }

        window.onload = loadData;
    </script>
<!-- Code injected by live-server -->
<script>
	// <![CDATA[  <-- For SVG support
	if ('WebSocket' in window) {
		(function () {
			function refreshCSS() {
				var sheets = [].slice.call(document.getElementsByTagName("link"));
				var head = document.getElementsByTagName("head")[0];
				for (var i = 0; i < sheets.length; ++i) {
					var elem = sheets[i];
					var parent = elem.parentElement || head;
					parent.removeChild(elem);
					var rel = elem.rel;
					if (elem.href && typeof rel != "string" || rel.length == 0 || rel.toLowerCase() == "stylesheet") {
						var url = elem.href.replace(/(&|\?)_cacheOverride=\d+/, '');
						elem.href = url + (url.indexOf('?') >= 0 ? '&' : '?') + '_cacheOverride=' + (new Date().valueOf());
					}
					parent.appendChild(elem);
				}
			}
			var protocol = window.location.protocol === 'http:' ? 'ws://' : 'wss://';
			var address = protocol + window.location.host + window.location.pathname + '/ws';
			var socket = new WebSocket(address);
			socket.onmessage = function (msg) {
				if (msg.data == 'reload') window.location.reload();
				else if (msg.data == 'refreshcss') refreshCSS();
			};
			if (sessionStorage && !sessionStorage.getItem('IsThisFirstTime_Log_From_LiveServer')) {
				console.log('Live reload enabled.');
				sessionStorage.setItem('IsThisFirstTime_Log_From_LiveServer', true);
			}
		})();
	}
	else {
		console.error('Upgrade your browser. This Browser is NOT supported WebSocket for Live-Reloading.');
	}
	// ]]>
</script>

<tldx-lmi-shadow-root data-wxt-shadow-root=""><template shadowrootmode="open">
<!-- saved from url=(0032)http://127.0.0.1:5500/index.html -->
<html><head><style>:host{--color-base-100: var(--color-base-100);--color-base-200: var(--color-base-200);--color-base-250: var(--color-base-250);--color-base-300: var(--color-base-300);--color-base-400: var(--color-base-400);--color-base-500: var(--color-base-500);--color-base-600: var(--color-base-600);--color-base-700: var(--color-base-700)}.light,[data-mode=light]{--color-base-100: 255 255 255;--color-base-150: 250 250 255;--color-base-200: 246 245 250;--color-base-250: 237 236 244;--color-base-300: 227 226 237;--color-base-400: 176 174 208;--color-base-500: 90 93 141;--color-base-600: 0 8 82;--color-base-700: 1 1 50}.dark,[data-mode=dark]{--color-base-100: 18 18 18;--color-base-150: 23 23 18;--color-base-200: 34 34 34;--color-base-250: 43 43 43;--color-base-300: 53 53 53;--color-base-400: 116 114 114;--color-base-500: 209 209 209;--color-base-600: 237 237 237;--color-base-700: 255 255 255}*,:before,:after{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(147 197 253 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }::backdrop{--tw-border-spacing-x: 0;--tw-border-spacing-y: 0;--tw-translate-x: 0;--tw-translate-y: 0;--tw-rotate: 0;--tw-skew-x: 0;--tw-skew-y: 0;--tw-scale-x: 1;--tw-scale-y: 1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness: proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width: 0px;--tw-ring-offset-color: #fff;--tw-ring-color: rgb(147 197 253 / .5);--tw-ring-offset-shadow: 0 0 #0000;--tw-ring-shadow: 0 0 #0000;--tw-shadow: 0 0 #0000;--tw-shadow-colored: 0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }*,:before,:after{box-sizing:border-box;border-width:0;border-style:solid;border-color:#e5e7eb}:before,:after{--tw-content: ""}html,:host{line-height:1.5;-webkit-text-size-adjust:100%;-moz-tab-size:4;-o-tab-size:4;tab-size:4;font-family:ui-sans-serif,system-ui,sans-serif,"Apple Color Emoji","Segoe UI Emoji",Segoe UI Symbol,"Noto Color Emoji";font-feature-settings:normal;font-variation-settings:normal;-webkit-tap-highlight-color:transparent}body{margin:0;line-height:inherit}hr{height:0;color:inherit;border-top-width:1px}abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}h1,h2,h3,h4,h5,h6{font-size:inherit;font-weight:inherit}a{color:inherit;text-decoration:inherit}b,strong{font-weight:bolder}code,kbd,samp,pre{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-variation-settings:normal;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-.25em}sup{top:-.5em}table{text-indent:0;border-color:inherit;border-collapse:collapse}button,input,optgroup,select,textarea{font-family:inherit;font-feature-settings:inherit;font-variation-settings:inherit;font-size:100%;font-weight:inherit;line-height:inherit;letter-spacing:inherit;color:inherit;margin:0;padding:0}button,select{text-transform:none}button,input:where([type=button]),input:where([type=reset]),input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}:-moz-focusring{outline:auto}:-moz-ui-invalid{box-shadow:none}progress{vertical-align:baseline}::-webkit-inner-spin-button,::-webkit-outer-spin-button{height:auto}[type=search]{-webkit-appearance:textfield;outline-offset:-2px}::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}summary{display:list-item}blockquote,dl,dd,h1,h2,h3,h4,h5,h6,hr,figure,p,pre{margin:0}fieldset{margin:0;padding:0}legend{padding:0}ol,ul,menu{list-style:none;margin:0;padding:0}dialog{padding:0}textarea{resize:vertical}input::-moz-placeholder,textarea::-moz-placeholder{opacity:1;color:#9ca3af}input::placeholder,textarea::placeholder{opacity:1;color:#9ca3af}button,[role=button]{cursor:pointer}:disabled{cursor:default}img,svg,video,canvas,audio,iframe,embed,object{display:block;vertical-align:middle}img,video{max-width:100%;height:auto}[hidden]:where(:not([hidden=until-found])){display:none}@supports (-moz-appearance:none){*{scrollbar-color:initial;scrollbar-width:initial}}.tiptap>p.is-empty:before{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.tiptap>p.is-empty:before{content:attr(data-placeholder);float:left;height:0;pointer-events:none}.container{width:100%}@media (min-width: 640px){.container{max-width:640px}}@media (min-width: 768px){.container{max-width:768px}}@media (min-width: 1024px){.container{max-width:1024px}}@media (min-width: 1280px){.container{max-width:1280px}}@media (min-width: 1536px){.container{max-width:1536px}}.pointer-events-none{pointer-events:none}.pointer-events-auto{pointer-events:auto}.visible{visibility:visible}.invisible{visibility:hidden}.collapse{visibility:collapse}.fixed{position:fixed}.absolute{position:absolute}.relative{position:relative}.sticky{position:sticky}.inset-0{top:0;right:0;bottom:0;left:0}.bottom-0{bottom:0}.bottom-2{bottom:.5rem}.bottom-4{bottom:1rem}.bottom-\[2px\]{bottom:2px}.bottom-\[calc\(100\%\+16px\)\]{bottom:calc(100% + 16px)}.left-0{left:0}.left-1\/2{left:50%}.left-2{left:.5rem}.left-4{left:1rem}.left-\[-80px\]{left:-80px}.left-\[50\%\]{left:50%}.right-0{right:0}.right-2{right:.5rem}.right-4{right:1rem}.right-5{right:1.25rem}.right-6{right:1.5rem}.right-\[var\(--spacing-large\)\]{right:var(--spacing-large)}.right-m{right:1rem}.top-0{top:0}.top-1\/2{top:50%}.top-2{top:.5rem}.top-4{top:1rem}.top-6{top:1.5rem}.top-\[2px\]{top:2px}.top-\[50\%\]{top:50%}.top-\[calc\(var\(--top-position\)\+var\(--spacing-large\)\)\]{top:calc(var(--top-position) + var(--spacing-large))}.z-10{z-index:10}.z-50{z-index:50}.z-\[10000\]{z-index:10000}.z-\[1000\]{z-index:1000}.z-\[1001\]{z-index:1001}.z-\[100\]{z-index:100}.z-\[110\]{z-index:110}.z-\[1\]{z-index:1}.z-\[30001\]{z-index:30001}.z-\[89\]{z-index:89}.z-\[90\]{z-index:90}.z-\[91\]{z-index:91}.m-0{margin:0}.m-m{margin:1rem}.mx-0{margin-left:0;margin-right:0}.mx-8{margin-left:2rem;margin-right:2rem}.my-2{margin-top:.5rem;margin-bottom:.5rem}.my-4{margin-top:1rem;margin-bottom:1rem}.mb-3{margin-bottom:.75rem}.mb-4{margin-bottom:1rem}.mb-8{margin-bottom:2rem}.mb-l{margin-bottom:1.5rem}.mb-xs{margin-bottom:.25rem}.ml-1{margin-left:.25rem}.ml-s{margin-left:.5rem}.mt-10{margin-top:2.5rem}.mt-2{margin-top:.5rem}.mt-4{margin-top:1rem}.mt-6,.mt-l{margin-top:1.5rem}.mt-s{margin-top:.5rem}.box-border{box-sizing:border-box}.block{display:block}.inline-block{display:inline-block}.inline{display:inline}.flex{display:flex}.inline-flex{display:inline-flex}.table{display:table}.table-cell{display:table-cell}.table-header-group{display:table-header-group}.table-row-group{display:table-row-group}.table-row{display:table-row}.grid{display:grid}.contents{display:contents}.\!hidden{display:none!important}.hidden{display:none}.h-0{height:0px}.h-1{height:.25rem}.h-12{height:3rem}.h-4{height:1rem}.h-6{height:1.5rem}.h-7{height:1.75rem}.h-8{height:2rem}.h-9{height:2.25rem}.h-96{height:24rem}.h-\[16px\]{height:16px}.h-\[17px\]{height:17px}.h-\[184px\]{height:184px}.h-\[1px\]{height:1px}.h-\[212px\]{height:212px}.h-\[25px\]{height:25px}.h-\[28px\]{height:28px}.h-\[2px\]{height:2px}.h-\[30px\]{height:30px}.h-\[32px\]{height:32px}.h-\[37px\]{height:37px}.h-\[54px\]{height:54px}.h-\[60px\]{height:60px}.h-\[62px\]{height:62px}.h-\[74px\]{height:74px}.h-fit{height:-moz-fit-content;height:fit-content}.h-full{height:100%}.h-max{height:-moz-max-content;height:max-content}.h-xl{height:2rem}.max-h-\[320px\]{max-height:320px}.max-h-\[500px\]{max-height:500px}.max-h-full{max-height:100%}.min-h-\[192px\]{min-height:192px}.min-h-\[37px\]{min-height:37px}.min-h-\[40px\]{min-height:40px}.min-h-\[45px\]{min-height:45px}.\!w-\[280px\]{width:280px!important}.\!w-\[calc\(100\%-3px\)\]{width:calc(100% - 3px)!important}.w-0{width:0px}.w-12{width:3rem}.w-3{width:.75rem}.w-4{width:1rem}.w-7{width:1.75rem}.w-9{width:2.25rem}.w-\[200px\]{width:200px}.w-\[220px\]{width:220px}.w-\[222px\]{width:222px}.w-\[350px\]{width:350px}.w-\[390px\]{width:390px}.w-\[45px\]{width:45px}.w-\[492px\]{width:492px}.w-\[514px\]{width:514px}.w-\[589px\]{width:589px}.w-\[60px\]{width:60px}.w-\[647px\]{width:647px}.w-\[70px\]{width:70px}.w-\[9\.33px\]{width:9.33px}.w-\[calc\(100\%-32px\)\]{width:calc(100% - 32px)}.w-\[var\(--chip-input-value-length\)\]{width:var(--chip-input-value-length)}.w-auto{width:auto}.w-fit{width:-moz-fit-content;width:fit-content}.w-full{width:100%}.min-w-0{min-width:0px}.min-w-\[200px\]{min-width:200px}.min-w-\[274px\]{min-width:274px}.min-w-\[280px\]{min-width:280px}.min-w-\[720px\]{min-width:720px}.min-w-fit{min-width:-moz-fit-content;min-width:fit-content}.max-w-\[1190px\]{max-width:1190px}.max-w-\[212px\]{max-width:212px}.max-w-\[260px\]{max-width:260px}.max-w-\[340px\]{max-width:340px}.max-w-\[345px\]{max-width:345px}.max-w-\[390px\]{max-width:390px}.max-w-\[393px\]{max-width:393px}.max-w-\[600px\]{max-width:600px}.max-w-\[none\]{max-width:none}.max-w-full{max-width:100%}.flex-1{flex:1 1 0%}.flex-shrink-0,.shrink-0{flex-shrink:0}.grow{flex-grow:1}.border-separate{border-collapse:separate}.border-spacing-x-0{--tw-border-spacing-x: 0px;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.border-spacing-y-s{--tw-border-spacing-y: .5rem;border-spacing:var(--tw-border-spacing-x) var(--tw-border-spacing-y)}.origin-bottom{transform-origin:bottom}.origin-top{transform-origin:top}.-translate-x-1\/2{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.-translate-y-1\/2{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\[-280px\]{--tw-translate-x: -280px;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-x-\[-50\%\]{--tw-translate-x: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.translate-y-\[-50\%\]{--tw-translate-y: -50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}@keyframes growFromBottom{0%{opacity:0;transform:scale(.9) translateY(16px)}to{opacity:1;transform:scale(1) translateY(0)}}.animate-grow-from-bottom{animation:growFromBottom .4s cubic-bezier(.28,.84,.42,1)}@keyframes growFromTop{0%{opacity:0;transform:scale(.9) translate(-50%,-16px)}to{opacity:1;transform:scale(1)translate(-50%)}}.animate-grow-from-top{animation:growFromTop .4s cubic-bezier(.28,.84,.42,1)}@keyframes pulse{50%{opacity:.5}}.animate-pulse{animation:pulse 2s cubic-bezier(.4,0,.6,1) infinite}@keyframes spin{to{transform:rotate(360deg)}}.animate-spin{animation:spin 1s linear infinite}.cursor-not-allowed{cursor:not-allowed}.cursor-pointer{cursor:pointer}.touch-none{touch-action:none}.select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.select-text{-webkit-user-select:text;-moz-user-select:text;user-select:text}.resize{resize:both}.list-none{list-style-type:none}.appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.flex-row{flex-direction:row}.flex-row-reverse{flex-direction:row-reverse}.flex-col{flex-direction:column}.flex-wrap{flex-wrap:wrap}.place-content-center{place-content:center}.content-start{align-content:flex-start}.items-start{align-items:flex-start}.items-end{align-items:flex-end}.items-center{align-items:center}.justify-start{justify-content:flex-start}.justify-end{justify-content:flex-end}.justify-center{justify-content:center}.justify-between{justify-content:space-between}.\!gap-s{gap:.5rem!important}.gap-1{gap:.25rem}.gap-2{gap:.5rem}.gap-3{gap:.75rem}.gap-4{gap:1rem}.gap-6{gap:1.5rem}.gap-7{gap:1.75rem}.gap-8{gap:2rem}.gap-\[2px\]{gap:2px}.gap-m{gap:1rem}.gap-s{gap:.5rem}.gap-xs{gap:.25rem}.space-x-3>:not([hidden])~:not([hidden]){--tw-space-x-reverse: 0;margin-right:calc(.75rem * var(--tw-space-x-reverse));margin-left:calc(.75rem * calc(1 - var(--tw-space-x-reverse)))}.space-y-1>:not([hidden])~:not([hidden]){--tw-space-y-reverse: 0;margin-top:calc(.25rem * calc(1 - var(--tw-space-y-reverse)));margin-bottom:calc(.25rem * var(--tw-space-y-reverse))}.self-start{align-self:flex-start}.self-center{align-self:center}.overflow-auto{overflow:auto}.overflow-hidden{overflow:hidden}.overflow-visible{overflow:visible}.overflow-x-auto{overflow-x:auto}.overflow-y-auto{overflow-y:auto}.truncate{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.whitespace-nowrap{white-space:nowrap}.text-wrap{text-wrap:wrap}.break-words{overflow-wrap:break-word}.break-all{word-break:break-all}.rounded{border-radius:.25rem}.rounded-2xl{border-radius:1rem}.rounded-3xl{border-radius:1.5rem}.rounded-\[3px\]{border-radius:3px}.rounded-full{border-radius:9999px}.rounded-lg{border-radius:.5rem}.rounded-md{border-radius:.375rem}.rounded-none{border-radius:0}.border{border-width:1px}.border-0{border-width:0px}.border-\[1px\]{border-width:1px}.border-y{border-top-width:1px;border-bottom-width:1px}.border-b-2{border-bottom-width:2px}.border-t{border-top-width:1px}.border-solid{border-style:solid}.border-base-200{--tw-border-opacity: 1;border-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-border-opacity, 1))}.border-base-250{--tw-border-opacity: 1;border-color:rgba(var(--color-base-250, 237 236 244) / var(--tw-border-opacity, 1))}.border-base-300{--tw-border-opacity: 1;border-color:rgba(var(--color-base-300, 227 226 237) / var(--tw-border-opacity, 1))}.border-base-400{--tw-border-opacity: 1;border-color:rgba(var(--color-base-400, 176 174 208) / var(--tw-border-opacity, 1))}.border-base-600{--tw-border-opacity: 1;border-color:rgba(var(--color-base-600, 0 8 82) / var(--tw-border-opacity, 1))}.border-primary-400{--tw-border-opacity: 1;border-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-border-opacity, 1))}.border-red-300{--tw-border-opacity: 1;border-color:rgb(237 49 93 / var(--tw-border-opacity, 1))}.border-transparent{border-color:transparent}.\!bg-ai-400{--tw-bg-opacity: 1 !important;background-color:rgb(107 107 255 / var(--tw-bg-opacity, 1))!important}.bg-\[\#01013166\]{background-color:#01013166}.bg-base-100{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-100, 255 255 255) / var(--tw-bg-opacity, 1))}.bg-base-200{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.bg-base-250{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-250, 237 236 244) / var(--tw-bg-opacity, 1))}.bg-base-300{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-300, 227 226 237) / var(--tw-bg-opacity, 1))}.bg-base-500{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-500, 90 93 141) / var(--tw-bg-opacity, 1))}.bg-base-600{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-600, 0 8 82) / var(--tw-bg-opacity, 1))}.bg-base-700\/50{background-color:rgba(var(--color-base-700, 1 1 50) / .5)}.bg-green-100{--tw-bg-opacity: 1;background-color:rgb(235 255 251 / var(--tw-bg-opacity, 1))}.bg-green-400{--tw-bg-opacity: 1;background-color:rgb(15 163 136 / var(--tw-bg-opacity, 1))}.bg-light-blue-100{--tw-bg-opacity: 1;background-color:rgb(244 250 255 / var(--tw-bg-opacity, 1))}.bg-orange-100{--tw-bg-opacity: 1;background-color:rgb(255 244 240 / var(--tw-bg-opacity, 1))}.bg-primary-100{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-100, 242 242 255) / var(--tw-bg-opacity, 1))}.bg-primary-200{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-200, 193 193 255) / var(--tw-bg-opacity, 1))}.bg-primary-400{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-bg-opacity, 1))}.bg-primary-500{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-bg-opacity, 1))}.bg-purple-100{--tw-bg-opacity: 1;background-color:rgb(249 241 255 / var(--tw-bg-opacity, 1))}.bg-purple-300{--tw-bg-opacity: 1;background-color:rgb(178 94 244 / var(--tw-bg-opacity, 1))}.bg-red-100{--tw-bg-opacity: 1;background-color:rgb(255 245 247 / var(--tw-bg-opacity, 1))}.bg-red-300{--tw-bg-opacity: 1;background-color:rgb(237 49 93 / var(--tw-bg-opacity, 1))}.bg-slate-500{--tw-bg-opacity: 1;background-color:rgb(100 116 139 / var(--tw-bg-opacity, 1))}.bg-tertiary-100{--tw-bg-opacity: 1;background-color:rgb(249 241 255 / var(--tw-bg-opacity, 1))}.bg-transparent{background-color:transparent}.fill-base-100{fill:rgba(var(--color-base-100, 255 255 255) / 1)}.fill-current{fill:currentColor}.fill-green-400{fill:#0fa388}.stroke-current{stroke:currentColor}.\!p-0{padding:0!important}.p-0{padding:0}.p-1{padding:.25rem}.p-2{padding:.5rem}.p-4{padding:1rem}.p-5{padding:1.25rem}.p-8{padding:2rem}.p-\[2px\]{padding:2px}.p-m{padding:1rem}.p-s{padding:.5rem}.p-xs{padding:.25rem}.\!px-2{padding-left:.5rem!important;padding-right:.5rem!important}.px-1{padding-left:.25rem;padding-right:.25rem}.px-2{padding-left:.5rem;padding-right:.5rem}.px-3{padding-left:.75rem;padding-right:.75rem}.px-4{padding-left:1rem;padding-right:1rem}.px-8{padding-left:2rem;padding-right:2rem}.px-m{padding-left:1rem;padding-right:1rem}.py-0\.5{padding-top:.125rem;padding-bottom:.125rem}.py-1{padding-top:.25rem;padding-bottom:.25rem}.py-2{padding-top:.5rem;padding-bottom:.5rem}.py-3{padding-top:.75rem;padding-bottom:.75rem}.py-4{padding-top:1rem;padding-bottom:1rem}.py-5{padding-top:1.25rem;padding-bottom:1.25rem}.py-s{padding-top:.5rem;padding-bottom:.5rem}.py-xs{padding-top:.25rem;padding-bottom:.25rem}.\!pr-1{padding-right:.25rem!important}.pb-m{padding-bottom:1rem}.pb-s{padding-bottom:.5rem}.pl-10{padding-left:2.5rem}.pl-2{padding-left:.5rem}.pl-4{padding-left:1rem}.pl-8{padding-left:2rem}.pr-10{padding-right:2.5rem}.pr-8{padding-right:2rem}.pr-s{padding-right:.5rem}.pt-2{padding-top:.5rem}.text-left{text-align:left}.text-center{text-align:center}.text-start{text-align:start}.text-2xs{font-size:.625rem}.text-\[10px\]{font-size:10px}.text-\[12px\]{font-size:12px}.text-\[13px\]{font-size:13px}.text-\[14px\]{font-size:14px}.text-\[15px\]{font-size:15px}.text-\[18px\]{font-size:18px}.text-\[21px\]{font-size:21px}.text-\[24px\]{font-size:24px}.text-\[36px\]{font-size:36px}.text-base{font-size:1rem;line-height:1.5rem}.text-lg{font-size:1.125rem;line-height:1.75rem}.text-sm{font-size:.875rem;line-height:1.25rem}.text-xs{font-size:.75rem;line-height:1rem}.font-\[400\]{font-weight:400}.font-\[500\]{font-weight:500}.font-bold{font-weight:700}.font-medium{font-weight:500}.font-normal{font-weight:400}.font-semibold{font-weight:600}.uppercase{text-transform:uppercase}.capitalize{text-transform:capitalize}.italic{font-style:italic}.\!leading-4{line-height:1rem!important}.leading-\[1\.16\]{line-height:1.16}.leading-\[1\.2\]{line-height:1.2}.leading-\[1\.3\]{line-height:1.3}.leading-\[1\.4\]{line-height:1.4}.leading-\[18px\]{line-height:18px}.leading-none{line-height:1}.tracking-\[-1\%\]{letter-spacing:-1%}.tracking-\[-1\.5\%\]{letter-spacing:-1.5%}.tracking-\[-2\%\]{letter-spacing:-2%}.tracking-\[-4\%\]{letter-spacing:-4%}.tracking-normal{letter-spacing:0em}.\!text-base-400{--tw-text-opacity: 1 !important;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))!important}.\!text-base-600{--tw-text-opacity: 1 !important;color:rgba(var(--color-base-600, 0 8 82) / var(--tw-text-opacity, 1))!important}.text-base-100{--tw-text-opacity: 1;color:rgba(var(--color-base-100, 255 255 255) / var(--tw-text-opacity, 1))}.text-base-200{--tw-text-opacity: 1;color:rgba(var(--color-base-200, 246 245 250) / var(--tw-text-opacity, 1))}.text-base-400{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.text-base-500{--tw-text-opacity: 1;color:rgba(var(--color-base-500, 90 93 141) / var(--tw-text-opacity, 1))}.text-base-600{--tw-text-opacity: 1;color:rgba(var(--color-base-600, 0 8 82) / var(--tw-text-opacity, 1))}.text-base-700{--tw-text-opacity: 1;color:rgba(var(--color-base-700, 1 1 50) / var(--tw-text-opacity, 1))}.text-blue-400{--tw-text-opacity: 1;color:rgba(var(--color-blue-400, 29 29 255) / var(--tw-text-opacity, 1))}.text-blue-500{--tw-text-opacity: 1;color:rgba(var(--color-blue-500, 0 0 130) / var(--tw-text-opacity, 1))}.text-current{color:currentColor}.text-gray-600{--tw-text-opacity: 1;color:rgb(75 85 99 / var(--tw-text-opacity, 1))}.text-green-400{--tw-text-opacity: 1;color:rgb(15 163 136 / var(--tw-text-opacity, 1))}.text-green-500{--tw-text-opacity: 1;color:rgb(3 129 94 / var(--tw-text-opacity, 1))}.text-light-blue-400{--tw-text-opacity: 1;color:rgb(0 141 255 / var(--tw-text-opacity, 1))}.text-orange-400{--tw-text-opacity: 1;color:rgb(255 107 70 / var(--tw-text-opacity, 1))}.text-orange-500{--tw-text-opacity: 1;color:rgb(224 66 26 / var(--tw-text-opacity, 1))}.text-pink-500{--tw-text-opacity: 1;color:rgb(236 72 153 / var(--tw-text-opacity, 1))}.text-primary-300{--tw-text-opacity: 1;color:rgba(var(--color-primary-300, 133 133 255) / var(--tw-text-opacity, 1))}.text-primary-400{--tw-text-opacity: 1;color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-text-opacity, 1))}.text-primary-500{--tw-text-opacity: 1;color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-text-opacity, 1))}.text-purple-300{--tw-text-opacity: 1;color:rgb(178 94 244 / var(--tw-text-opacity, 1))}.text-purple-500{--tw-text-opacity: 1;color:rgb(119 63 133 / var(--tw-text-opacity, 1))}.text-red-300{--tw-text-opacity: 1;color:rgb(237 49 93 / var(--tw-text-opacity, 1))}.text-red-400{--tw-text-opacity: 1;color:rgb(181 3 44 / var(--tw-text-opacity, 1))}.text-red-500{--tw-text-opacity: 1;color:rgb(129 1 30 / var(--tw-text-opacity, 1))}.text-teal-500{--tw-text-opacity: 1;color:rgb(20 184 166 / var(--tw-text-opacity, 1))}.text-tertiary-200{--tw-text-opacity: 1;color:rgb(202 155 239 / var(--tw-text-opacity, 1))}.text-tertiary-300{--tw-text-opacity: 1;color:rgb(178 94 244 / var(--tw-text-opacity, 1))}.text-tertiary-500{--tw-text-opacity: 1;color:rgb(119 63 133 / var(--tw-text-opacity, 1))}.text-white{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.text-yellow-500{--tw-text-opacity: 1;color:rgb(234 179 8 / var(--tw-text-opacity, 1))}.underline{text-decoration-line:underline}.antialiased{-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}.opacity-0{opacity:0}.opacity-30{opacity:.3}.opacity-40{opacity:.4}.opacity-65{opacity:.65}.shadow{--tw-shadow: 0 1px 3px 0 rgb(0 0 0 / .1), 0 1px 2px -1px rgb(0 0 0 / .1);--tw-shadow-colored: 0 1px 3px 0 var(--tw-shadow-color), 0 1px 2px -1px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-lg{--tw-shadow: 0px 5px 30px 0px rgba(var(--color-base-600) / .1);--tw-shadow-colored: 0px 5px 30px 0px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-md{--tw-shadow: 0px 5px 20px 0px rgba(var(--color-base-600) / .05);--tw-shadow-colored: 0px 5px 20px 0px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.shadow-sm{--tw-shadow: 0px 2px 20px 0px rgba(var(--color-base-600) / .03);--tw-shadow-colored: 0px 2px 20px 0px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000),var(--tw-ring-shadow, 0 0 #0000),var(--tw-shadow)}.outline-none{outline:2px solid transparent;outline-offset:2px}.outline{outline-style:solid}.outline-\[4\.5px\]{outline-width:4.5px}.outline-tertiary-400{outline-color:#953bab}.ring-base-200{--tw-ring-opacity: 1;--tw-ring-color: rgba(var(--color-base-200, 246 245 250) / var(--tw-ring-opacity, 1))}.ring-primary-400\/10{--tw-ring-color: rgba(var(--color-primary-400, 29 29 255) / .1)}.ring-purple-300\/10{--tw-ring-color: rgb(178 94 244 / .1)}.ring-red-300\/10{--tw-ring-color: rgb(237 49 93 / .1)}.blur{--tw-blur: blur(8px);filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.transition{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-\[background-color\]{transition-property:background-color;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-all{transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.transition-colors{transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.duration-200{transition-duration:.2s}.duration-500{transition-duration:.5s}.ease-in-out{transition-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{transition-timing-function:linear}@keyframes enter{0%{opacity:var(--tw-enter-opacity, 1);transform:translate3d(var(--tw-enter-translate-x, 0),var(--tw-enter-translate-y, 0),0) scale3d(var(--tw-enter-scale, 1),var(--tw-enter-scale, 1),var(--tw-enter-scale, 1)) rotate(var(--tw-enter-rotate, 0))}}@keyframes exit{to{opacity:var(--tw-exit-opacity, 1);transform:translate3d(var(--tw-exit-translate-x, 0),var(--tw-exit-translate-y, 0),0) scale3d(var(--tw-exit-scale, 1),var(--tw-exit-scale, 1),var(--tw-exit-scale, 1)) rotate(var(--tw-exit-rotate, 0))}}.duration-200{animation-duration:.2s}.duration-500{animation-duration:.5s}.ease-in-out{animation-timing-function:cubic-bezier(.4,0,.2,1)}.ease-linear{animation-timing-function:linear}.running{animation-play-state:running}.paused{animation-play-state:paused}.scrollbar::-webkit-scrollbar-track{background-color:var(--scrollbar-track);border-radius:var(--scrollbar-track-radius)}.scrollbar::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb);border-radius:var(--scrollbar-thumb-radius)}.scrollbar::-webkit-scrollbar-corner{background-color:var(--scrollbar-corner);border-radius:var(--scrollbar-corner-radius)}@supports (-moz-appearance:none){.scrollbar{scrollbar-width:auto;scrollbar-color:var(--scrollbar-thumb, initial) var(--scrollbar-track, initial)}}.scrollbar::-webkit-scrollbar{display:block;width:var(--scrollbar-width, 16px);height:var(--scrollbar-height, 16px)}.scrollbar-thin::-webkit-scrollbar-track{background-color:var(--scrollbar-track);border-radius:var(--scrollbar-track-radius)}.scrollbar-thin::-webkit-scrollbar-thumb{background-color:var(--scrollbar-thumb);border-radius:var(--scrollbar-thumb-radius)}.scrollbar-thin::-webkit-scrollbar-corner{background-color:var(--scrollbar-corner);border-radius:var(--scrollbar-corner-radius)}@supports (-moz-appearance:none){.scrollbar-thin{scrollbar-width:thin;scrollbar-color:var(--scrollbar-thumb, initial) var(--scrollbar-track, initial)}}.scrollbar-thin::-webkit-scrollbar{display:block;width:8px;height:8px}.scrollbar-track-base-200{--scrollbar-track: rgba(var(--color-base-200, 246 245 250) / 1)}.scrollbar-thumb-base-300{--scrollbar-thumb: rgba(var(--color-base-300, 227 226 237) / 1)}.scrollbar-track-rounded-full{--scrollbar-track-radius: 9999px}.scrollbar-thumb-rounded-full{--scrollbar-thumb-radius: 9999px}.text-ai-gradient{background-image:linear-gradient(90deg,#4f4fd4,#dc62e3);background-clip:text;color:transparent;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.placeholder\:text-sm::-moz-placeholder{font-size:.875rem;line-height:1.25rem}.placeholder\:text-sm::placeholder{font-size:.875rem;line-height:1.25rem}.placeholder\:font-normal::-moz-placeholder{font-weight:400}.placeholder\:font-normal::placeholder{font-weight:400}.placeholder\:text-base-400::-moz-placeholder{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.placeholder\:text-base-400::placeholder{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.before\:absolute:before{content:var(--tw-content);position:absolute}.before\:bottom-0:before{content:var(--tw-content);bottom:0}.before\:bottom-\[50\%\]:before{content:var(--tw-content);bottom:50%}.before\:left-0:before{content:var(--tw-content);left:0}.before\:left-\[3px\]:before{content:var(--tw-content);left:3px}.before\:top-0:before{content:var(--tw-content);top:0}.before\:flex:before{content:var(--tw-content);display:flex}.before\:h-4:before{content:var(--tw-content);height:1rem}.before\:h-\[11px\]:before{content:var(--tw-content);height:11px}.before\:w-4:before{content:var(--tw-content);width:1rem}.before\:w-\[11px\]:before{content:var(--tw-content);width:11px}.before\:w-\[var\(--player-buffer-progress\)\]:before{content:var(--tw-content);width:var(--player-buffer-progress)}.before\:translate-y-\[50\%\]:before{content:var(--tw-content);--tw-translate-y: 50%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.before\:content-normal:before{content:var(--tw-content);align-content:normal}.before\:rounded-full:before{content:var(--tw-content);border-radius:9999px}.before\:bg-base-100:before{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgba(var(--color-base-100, 255 255 255) / var(--tw-bg-opacity, 1))}.before\:bg-base-400:before{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgba(var(--color-base-400, 176 174 208) / var(--tw-bg-opacity, 1))}.before\:bg-primary-300:before{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-300, 133 133 255) / var(--tw-bg-opacity, 1))}.before\:transition-\[border\]:before{content:var(--tw-content);transition-property:border;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.before\:transition-\[width\]:before{content:var(--tw-content);transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.before\:transition-all:before{content:var(--tw-content);transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.before\:content-\[\'\'\]:before{--tw-content: "";content:var(--tw-content)}.after\:absolute:after{content:var(--tw-content);position:absolute}.after\:bottom-0:after{content:var(--tw-content);bottom:0}.after\:left-0:after{content:var(--tw-content);left:0}.after\:top-0:after{content:var(--tw-content);top:0}.after\:flex:after{content:var(--tw-content);display:flex}.after\:w-\[var\(--player-timeline-progress\)\]:after{content:var(--tw-content);width:var(--player-timeline-progress)}.after\:content-normal:after{content:var(--tw-content);align-content:normal}.after\:bg-primary-400:after{content:var(--tw-content);--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-bg-opacity, 1))}.after\:transition-\[width\]:after{content:var(--tw-content);transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}.first\:rounded-s-2xl:first-child{border-start-start-radius:1rem;border-end-start-radius:1rem}.first\:border-s:first-child{border-inline-start-width:1px}.last\:rounded-e-2xl:last-child{border-start-end-radius:1rem;border-end-end-radius:1rem}.last\:border-e:last-child{border-inline-end-width:1px}.checked\:border-\[5px\]:checked{border-width:5px}.checked\:border-none:checked{border-style:none}.checked\:border-primary-400:checked{--tw-border-opacity: 1;border-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-border-opacity, 1))}.checked\:bg-primary-400:checked{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-bg-opacity, 1))}.before\:checked\:border-\[5px\]:checked:before{content:var(--tw-content);border-width:5px}.before\:checked\:border-primary-400:checked:before{content:var(--tw-content);--tw-border-opacity: 1;border-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-border-opacity, 1))}.focus-within\:outline-none:focus-within{outline:2px solid transparent;outline-offset:2px}.hover\:rounded-lg:hover{border-radius:.5rem}.hover\:border-primary-200:hover{--tw-border-opacity: 1;border-color:rgba(var(--color-primary-200, 193 193 255) / var(--tw-border-opacity, 1))}.hover\:bg-base-200:hover{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.hover\:bg-base-250:hover{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-250, 237 236 244) / var(--tw-bg-opacity, 1))}.hover\:bg-primary-500:hover{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-bg-opacity, 1))}.hover\:bg-purple-400:hover{--tw-bg-opacity: 1;background-color:rgb(149 59 171 / var(--tw-bg-opacity, 1))}.hover\:bg-red-400:hover{--tw-bg-opacity: 1;background-color:rgb(181 3 44 / var(--tw-bg-opacity, 1))}.hover\:bg-transparent:hover{background-color:transparent}.hover\:bg-opacity-50:hover{--tw-bg-opacity: .5}.hover\:bg-none:hover{background-image:none}.hover\:text-primary-500:hover{--tw-text-opacity: 1;color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-text-opacity, 1))}.hover\:scrollbar-thumb-base-400:hover{--scrollbar-thumb: rgba(var(--color-base-400, 176 174 208) / 1)}.focus\:border-primary-300:focus{--tw-border-opacity: 1;border-color:rgba(var(--color-primary-300, 133 133 255) / var(--tw-border-opacity, 1))}.focus\:border-red-300:focus{--tw-border-opacity: 1;border-color:rgb(237 49 93 / var(--tw-border-opacity, 1))}.focus\:bg-base-100:focus{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-100, 255 255 255) / var(--tw-bg-opacity, 1))}.focus\:bg-base-200:focus{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.focus\:bg-primary-100:focus{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-100, 242 242 255) / var(--tw-bg-opacity, 1))}.focus\:bg-transparent:focus{background-color:transparent}.focus\:bg-none:focus{background-image:none}.focus\:text-base-600:focus{--tw-text-opacity: 1;color:rgba(var(--color-base-600, 0 8 82) / var(--tw-text-opacity, 1))}.focus\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.focus\:placeholder\:text-base-400:focus::-moz-placeholder{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.focus\:placeholder\:text-base-400:focus::placeholder{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.focus-visible\:ring:focus-visible{--tw-ring-offset-shadow: var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow: var(--tw-ring-inset) 0 0 0 calc(3px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow, 0 0 #0000)}.active\:bg-base-200:active{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.active\:bg-primary-500:active{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-bg-opacity, 1))}.active\:bg-purple-400:active{--tw-bg-opacity: 1;background-color:rgb(149 59 171 / var(--tw-bg-opacity, 1))}.active\:bg-red-400:active{--tw-bg-opacity: 1;background-color:rgb(181 3 44 / var(--tw-bg-opacity, 1))}.active\:bg-transparent:active{background-color:transparent}.active\:bg-none:active{background-image:none}.disabled\:pointer-events-none:disabled{pointer-events:none}.disabled\:\!cursor-not-allowed:disabled{cursor:not-allowed!important}.disabled\:cursor-not-allowed:disabled{cursor:not-allowed}.disabled\:border-base-300:disabled{--tw-border-opacity: 1;border-color:rgba(var(--color-base-300, 227 226 237) / var(--tw-border-opacity, 1))}.disabled\:bg-base-100:disabled{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-100, 255 255 255) / var(--tw-bg-opacity, 1))}.disabled\:bg-base-200:disabled{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.disabled\:bg-base-300:disabled{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-300, 227 226 237) / var(--tw-bg-opacity, 1))}.disabled\:text-base-400:disabled{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.disabled\:\!opacity-50:disabled{opacity:.5!important}.disabled\:opacity-30:disabled{opacity:.3}.disabled\:opacity-50:disabled{opacity:.5}.disabled\:hover\:\!bg-transparent:hover:disabled{background-color:transparent!important}.disabled\:hover\:bg-transparent:hover:disabled{background-color:transparent}.group\/highlight:hover .group-hover\/highlight\:\!flex{display:flex!important}.group\/trigger:hover .group-hover\/trigger\:flex{display:flex}.has-\[\:focus\]\:border-primary-300:has(:focus){--tw-border-opacity: 1;border-color:rgba(var(--color-primary-300, 133 133 255) / var(--tw-border-opacity, 1))}.has-\[\:focus\]\:bg-base-200:has(:focus){--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.has-\[svg\:first-child\]\:pl-2:has(svg:first-child){padding-left:.5rem}.has-\[svg\:first-child\]\:pl-3:has(svg:first-child){padding-left:.75rem}.has-\[svg\:first-child\]\:pl-4:has(svg:first-child){padding-left:1rem}.has-\[svg\:first-child\]\:pl-5:has(svg:first-child){padding-left:1.25rem}.has-\[svg\:first-child\]\:pr-4:has(svg:first-child){padding-right:1rem}.has-\[svg\:first-child\]\:pr-8:has(svg:first-child){padding-right:2rem}.has-\[svg\:last-child\]\:pl-4:has(svg:last-child){padding-left:1rem}.has-\[svg\:last-child\]\:pl-8:has(svg:last-child){padding-left:2rem}.has-\[svg\:last-child\]\:pr-2:has(svg:last-child){padding-right:.5rem}.has-\[svg\:last-child\]\:pr-3:has(svg:last-child){padding-right:.75rem}.has-\[svg\:last-child\]\:pr-4:has(svg:last-child){padding-right:1rem}.has-\[svg\:last-child\]\:pr-5:has(svg:last-child){padding-right:1.25rem}.aria-\[current\=page\]\:border-b-primary-400[aria-current=page]{--tw-border-opacity: 1;border-bottom-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-border-opacity, 1))}.aria-\[current\=page\]\:bg-primary-400\/10[aria-current=page]{background-color:rgba(var(--color-primary-400, 29 29 255) / .1)}.aria-\[current\=page\]\:text-primary-400[aria-current=page]{--tw-text-opacity: 1;color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-text-opacity, 1))}.aria-\[current\=page\]\:hover\:border-b-primary-500:hover[aria-current=page]{--tw-border-opacity: 1;border-bottom-color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-border-opacity, 1))}.aria-\[current\=page\]\:hover\:bg-primary-400\/20:hover[aria-current=page]{background-color:rgba(var(--color-primary-400, 29 29 255) / .2)}.aria-\[current\=page\]\:hover\:text-primary-500:hover[aria-current=page]{--tw-text-opacity: 1;color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-text-opacity, 1))}.group\/dropdown-subtrigger[aria-expanded=true] .group-aria-\[expanded\=true\]\/dropdown-subtrigger\:bg-base-200{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.data-\[clickable\=false\]\:pointer-events-none[data-clickable=false],.data-\[disabled\=true\]\:pointer-events-none[data-disabled=true],.data-\[loading\=true\]\:pointer-events-none[data-loading=true]{pointer-events:none}.data-\[disabled\=false\]\:pointer-events-auto[data-disabled=false]{pointer-events:auto}.data-\[size\=l\]\:left-\[17px\][data-size=l]{left:17px}.data-\[size\=l\]\:top-\[14px\][data-size=l]{top:14px}.data-\[size\=m\]\:left-\[12px\][data-size=m]{left:12px}.data-\[size\=m\]\:top-\[9px\][data-size=m]{top:9px}.data-\[size\=s\]\:left-\[8px\][data-size=s]{left:8px}.data-\[size\=s\]\:top-\[6px\][data-size=s]{top:6px}.data-\[size\=xl\]\:left-\[23px\][data-size=xl]{left:23px}.data-\[size\=xl\]\:top-\[18px\][data-size=xl]{top:18px}.data-\[size\=xs\]\:left-\[7px\][data-size=xs]{left:7px}.data-\[size\=xs\]\:top-\[10px\][data-size=xs]{top:10px}.data-\[size\=\"big\"\]\:h-\[37px\][data-size=big]{height:37px}.data-\[size\=\"medium\"\]\:h-\[30px\][data-size=medium]{height:30px}.data-\[size\=\"small\"\]\:h-6[data-size=small]{height:1.5rem}.data-\[size\=l\]\:h-8[data-size=l]{height:2rem}.data-\[size\=m\]\:h-6[data-size=m]{height:1.5rem}.data-\[size\=s\]\:h-4[data-size=s]{height:1rem}.data-\[size\=xl\]\:h-10[data-size=xl]{height:2.5rem}.data-\[size\=xs\]\:h-3[data-size=xs]{height:.75rem}.data-\[ai-onboarding\=true\]\:min-h-\[299px\][data-ai-onboarding=true]{min-height:299px}.data-\[path\=auto-share\]\:min-h-\[275px\][data-path=auto-share]{min-height:275px}.data-\[size\=l\]\:w-8[data-size=l]{width:2rem}.data-\[size\=m\]\:w-6[data-size=m]{width:1.5rem}.data-\[size\=s\]\:w-4[data-size=s]{width:1rem}.data-\[size\=xl\]\:w-10[data-size=xl]{width:2.5rem}.data-\[size\=xs\]\:w-3[data-size=xs]{width:.75rem}.data-\[clickable\=false\]\:cursor-default[data-clickable=false]{cursor:default}.data-\[clickable\=true\]\:cursor-pointer[data-clickable=true]{cursor:pointer}.data-\[disabled\=\"true\"\]\:cursor-not-allowed[data-disabled=true]{cursor:not-allowed}.data-\[disabled\=true\]\:\!cursor-not-allowed[data-disabled=true]{cursor:not-allowed!important}.data-\[disabled\=true\]\:cursor-not-allowed[data-disabled=true],.data-\[disabled\]\:cursor-not-allowed[data-disabled],.data-\[loading\=true\]\:cursor-not-allowed[data-loading=true]{cursor:not-allowed}.data-\[outline\=\"true\"\]\:border-\[1px\][data-outline=true]{border-width:1px}.data-\[focus\=true\]\:border-primary-300[data-focus=true]{--tw-border-opacity: 1;border-color:rgba(var(--color-primary-300, 133 133 255) / var(--tw-border-opacity, 1))}.data-\[variant\=\"primary\"\]\:border-primary-400[data-variant=primary]{--tw-border-opacity: 1;border-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-border-opacity, 1))}.data-\[variant\=\"secondary\"\]\:border-base-400[data-variant=secondary]{--tw-border-opacity: 1;border-color:rgba(var(--color-base-400, 176 174 208) / var(--tw-border-opacity, 1))}.data-\[checked\=false\]\:bg-base-200[data-checked=false]{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.data-\[checked\=true\]\:bg-green-100[data-checked=true]{--tw-bg-opacity: 1;background-color:rgb(235 255 251 / var(--tw-bg-opacity, 1))}.data-\[disabled\]\:bg-base-100[data-disabled]{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-100, 255 255 255) / var(--tw-bg-opacity, 1))}.data-\[disabled\]\:bg-base-200[data-disabled],.data-\[selected\=true\]\:bg-base-200[data-selected=true]{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.data-\[variant\=\"primary\"\]\:bg-primary-100[data-variant=primary]{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-100, 242 242 255) / var(--tw-bg-opacity, 1))}.data-\[variant\=\"secondary\"\]\:bg-base-200[data-variant=secondary]{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.data-\[variant\=\"success\"\]\:bg-green-100[data-variant=success]{--tw-bg-opacity: 1;background-color:rgb(235 255 251 / var(--tw-bg-opacity, 1))}.data-\[variant\=\"tertiary\"\]\:bg-tertiary-100[data-variant=tertiary]{--tw-bg-opacity: 1;background-color:rgb(249 241 255 / var(--tw-bg-opacity, 1))}.data-\[size\=m\]\:p-4[data-size=m]{padding:1rem}.data-\[size\=s\]\:p-2[data-size=s]{padding:.5rem}.data-\[size\=\"big\"\]\:px-3[data-size=big]{padding-left:.75rem;padding-right:.75rem}.data-\[size\=\"big\"\]\:py-2[data-size=big]{padding-top:.5rem;padding-bottom:.5rem}.data-\[size\=\"medium\"\]\:px-2[data-size=medium]{padding-left:.5rem;padding-right:.5rem}.data-\[size\=\"medium\"\]\:py-2[data-size=medium]{padding-top:.5rem;padding-bottom:.5rem}.data-\[size\=\"small\"\]\:px-2[data-size=small]{padding-left:.5rem;padding-right:.5rem}.data-\[size\=\"small\"\]\:py-2[data-size=small]{padding-top:.5rem;padding-bottom:.5rem}.data-\[has-cta\=false\]\:text-center[data-has-cta=false]{text-align:center}.data-\[size\=m\]\:text-\[15px\][data-size=m]{font-size:15px}.data-\[size\=s\]\:text-xs[data-size=s]{font-size:.75rem;line-height:1rem}.data-\[disabled\=\"true\"\]\:text-base-400[data-disabled=true]{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.data-\[disabled\=false\]\:\!opacity-100[data-disabled=false]{opacity:1!important}.data-\[disabled\=true\]\:\!opacity-50[data-disabled=true]{opacity:.5!important}.data-\[disabled\=true\]\:opacity-50[data-disabled=true]{opacity:.5}.data-\[disabled\]\:opacity-30[data-disabled],.data-\[loading\=true\]\:opacity-30[data-loading=true]{opacity:.3}.data-\[outline\=true\]\:outline[data-outline=true]{outline-style:solid}.data-\[outline\=true\]\:outline-\[1\.5px\][data-outline=true]{outline-width:1.5px}.data-\[outline\=true\]\:outline-primary-400[data-outline=true]{outline-color:rgba(var(--color-primary-400, 29 29 255) / 1)}.data-\[attached\=true\]\:first\:rounded-r-none:first-child[data-attached=true]{border-top-right-radius:0;border-bottom-right-radius:0}.data-\[attached\=true\]\:first\:border-r-0:first-child[data-attached=true]{border-right-width:0px}.data-\[attached\=true\]\:last\:rounded-l-none:last-child[data-attached=true]{border-top-left-radius:0;border-bottom-left-radius:0}.data-\[attached\=true\]\:last\:border-l-0:last-child[data-attached=true]{border-left-width:0px}.data-\[read-only\=true\]\:hover\:border-transparent:hover[data-read-only=true]{border-color:transparent}.data-\[disabled\=true\]\:hover\:\!bg-transparent:hover[data-disabled=true]{background-color:transparent!important}.data-\[variant\=\"secondary\"\]\:hover\:bg-base-250:hover[data-variant=secondary]{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-250, 237 236 244) / var(--tw-bg-opacity, 1))}.group\/dropdown-wordtrigger[data-state=closed] .group-data-\[state\=closed\]\/dropdown-wordtrigger\:block,.group\/dropdown-wordtrigger[data-state=open] .group-data-\[state\=open\]\/dropdown-wordtrigger\:block{display:block}.group\/trigger[data-state=paused] .group-data-\[state\=paused\]\/trigger\:flex,.group\/trigger[data-state=playing] .group-data-\[state\=playing\]\/trigger\:flex{display:flex}.group\/checkbox[data-checked=false] .group-data-\[checked\=false\]\/checkbox\:hidden,.group\/sidebar[data-state=collapsed] .group-data-\[state\=\"collapsed\"\]\/sidebar\:hidden,.group\/sidebar[data-state=expanded] .group-data-\[state\=\"expanded\"\]\/sidebar\:hidden,.group\/combobox-trigger[data-state=closed] .group-data-\[state\=closed\]\/combobox-trigger\:hidden,.group\/dropdown-wordtrigger[data-state=closed] .group-data-\[state\=closed\]\/dropdown-wordtrigger\:hidden,.group\/combobox-trigger[data-state=open] .group-data-\[state\=open\]\/combobox-trigger\:hidden,.group\/dropdown-wordtrigger[data-state=open] .group-data-\[state\=open\]\/dropdown-wordtrigger\:hidden{display:none}.group\/button[data-size=lg] .group-data-\[size\=\"lg\"\]\/button\:h-6{height:1.5rem}.group\/button[data-size=md] .group-data-\[size\=\"md\"\]\/button\:h-5{height:1.25rem}.group\/button[data-size=sm] .group-data-\[size\=\"sm\"\]\/button\:h-4{height:1rem}.group\/button[data-size=xl] .group-data-\[size\=\"xl\"\]\/button\:h-7{height:1.75rem}.group\/button[data-size=lg] .group-data-\[size\=\"lg\"\]\/button\:w-6{width:1.5rem}.group\/button[data-size=md] .group-data-\[size\=\"md\"\]\/button\:w-5{width:1.25rem}.group\/button[data-size=sm] .group-data-\[size\=\"sm\"\]\/button\:w-4{width:1rem}.group\/button[data-size=xl] .group-data-\[size\=\"xl\"\]\/button\:w-7{width:1.75rem}.group\/dropdown-item[data-size=m] .group-data-\[size\=m\]\/dropdown-item\:\!w-5{width:1.25rem!important}.group\/dropdown-item[data-size=s] .group-data-\[size\=s\]\/dropdown-item\:w-m{width:1rem}.group\/sidebar[data-state=collapsed] .group-data-\[state\=\"collapsed\"\]\/sidebar\:justify-center{justify-content:center}.group\/input-root[data-invalid=true] .group-data-\[invalid\=true\]\/input-root\:border-red-300{--tw-border-opacity: 1;border-color:rgb(237 49 93 / var(--tw-border-opacity, 1))}.group\/switch[data-checked=true] .group-data-\[checked\=true\]\/switch\:bg-green-300{--tw-bg-opacity: 1;background-color:rgb(0 214 171 / var(--tw-bg-opacity, 1))}.group\/switch[data-checked=true] .group-data-\[checked\=true\]\/switch\:bg-primary-400{--tw-bg-opacity: 1;background-color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-bg-opacity, 1))}.group\/input-root[data-invalid=true] .group-data-\[invalid\=true\]\/input-root\:bg-base-200{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-200, 246 245 250) / var(--tw-bg-opacity, 1))}.group\/sidebar[data-type=light] .group-data-\[type\=\"light\"\]\/sidebar\:bg-base-100{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-100, 255 255 255) / var(--tw-bg-opacity, 1))}.group\/tooltip[data-type=default] .group-data-\[type\=\"default\"\]\/tooltip\:fill-base-600{fill:rgba(var(--color-base-600, 0 8 82) / 1)}.group\/tooltip[data-type=error] .group-data-\[type\=\"error\"\]\/tooltip\:fill-red-300{fill:#ed315d}.group\/tooltip[data-type=success] .group-data-\[type\=\"success\"\]\/tooltip\:fill-green-400{fill:#0fa388}.group\/sidebar[data-state=collapsed] .group-data-\[state\=\"collapsed\"\]\/sidebar\:px-1{padding-left:.25rem;padding-right:.25rem}.group\/chip[data-size=big] .group-data-\[size\=\"big\"\]\/chip\:text-\[13px\]{font-size:13px}.group\/chip[data-size=medium] .group-data-\[size\=\"medium\"\]\/chip\:text-\[12px\]{font-size:12px}.group\/chip[data-size=small] .group-data-\[size\=\"small\"\]\/chip\:text-xs{font-size:.75rem;line-height:1rem}.group\/dropdown-item[data-size=m] .group-data-\[size\=m\]\/dropdown-item\:\!text-\[15px\]{font-size:15px!important}.group\/dropdown-item[data-size=s] .group-data-\[size\=s\]\/dropdown-item\:text-xs{font-size:.75rem;line-height:1rem}.group\/dropdown-wordtrigger[data-disabled] .group-data-\[disabled\]\/dropdown-wordtrigger\:text-base-400{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.group\/combobox-root[data-invalid=true] .group-data-\[invalid\=true\]\/combobox-root\:text-red-300,.group\/input-root[data-invalid=true] .group-data-\[invalid\=true\]\/input-root\:text-red-300{--tw-text-opacity: 1;color:rgb(237 49 93 / var(--tw-text-opacity, 1))}.group\/banner[data-type=secondary] .group-data-\[type\=\"secondary\"\]\/banner\:text-base-100{--tw-text-opacity: 1;color:rgba(var(--color-base-100, 255 255 255) / var(--tw-text-opacity, 1))}.group\/chip[data-variant=primary] .group-data-\[variant\=\"primary\"\]\/chip\:text-primary-400{--tw-text-opacity: 1;color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-text-opacity, 1))}.group\/chip[data-variant=secondary] .group-data-\[variant\=\"secondary\"\]\/chip\:text-base-400{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.group\/chip[data-variant=success] .group-data-\[variant\=\"success\"\]\/chip\:text-green-400{--tw-text-opacity: 1;color:rgb(15 163 136 / var(--tw-text-opacity, 1))}.group\/chip[data-variant=tertiary] .group-data-\[variant\=\"tertiary\"\]\/chip\:text-base-300{--tw-text-opacity: 1;color:rgba(var(--color-base-300, 227 226 237) / var(--tw-text-opacity, 1))}.group\/chip[data-variant=tertiary] .group-data-\[variant\=\"tertiary\"\]\/chip\:text-tertiary-300{--tw-text-opacity: 1;color:rgb(178 94 244 / var(--tw-text-opacity, 1))}.group\/input-root[data-disabled=true] .group-data-\[disabled\=true\]\/input-root\:opacity-50{opacity:.5}.group\/switch[data-checked=true] .group-data-\[checked\=true\]\/switch\:before\:translate-x-full:before{content:var(--tw-content);--tw-translate-x: 100%;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.group\/sidebar[data-type=light] .group-data-\[type\=\"light\"\]\/sidebar\:hover\:bg-base-150:hover{--tw-bg-opacity: 1;background-color:rgba(var(--color-base-150, 250 250 255) / var(--tw-bg-opacity, 1))}.group\/input-root[data-invalid=true] .group-data-\[invalid\=true\]\/input-root\:focus\:border-red-300:focus{--tw-border-opacity: 1;border-color:rgb(237 49 93 / var(--tw-border-opacity, 1))}.group\/chip:hover[data-variant=primary] .group-hover\/chip\:group-data-\[variant\=\"primary\"\]\/chip\:text-primary-500{--tw-text-opacity: 1;color:rgba(var(--color-primary-500, 0 0 130) / var(--tw-text-opacity, 1))}.group\/chip:hover[data-variant=secondary] .group-hover\/chip\:group-data-\[variant\=\"secondary\"\]\/chip\:text-base-500{--tw-text-opacity: 1;color:rgba(var(--color-base-500, 90 93 141) / var(--tw-text-opacity, 1))}.group\/chip:hover[data-variant=success] .group-hover\/chip\:group-data-\[variant\=\"success\"\]\/chip\:text-green-500{--tw-text-opacity: 1;color:rgb(3 129 94 / var(--tw-text-opacity, 1))}.group\/chip:hover[data-variant=tertiary] .group-hover\/chip\:group-data-\[variant\=\"tertiary\"\]\/chip\:text-tertiary-400{--tw-text-opacity: 1;color:rgb(149 59 171 / var(--tw-text-opacity, 1))}.group\/sidebar[data-type=light] .group-data-\[type\=\"light\"\]\/sidebar\:aria-\[current\=page\]\:bg-primary-400\/10[aria-current=page]{background-color:rgba(var(--color-primary-400, 29 29 255) / .1)}.group\/sidebar[data-type=light] .group-data-\[type\=\"light\"\]\/sidebar\:aria-\[current\=page\]\:hover\:bg-primary-400\/20:hover[aria-current=page]{background-color:rgba(var(--color-primary-400, 29 29 255) / .2)}@media not all and (min-width: 1024px){.group\/sidebar:hover .max-lg\:group-hover\/sidebar\:\!px-4{padding-left:1rem!important;padding-right:1rem!important}.group\/sidebar[data-state=default] .max-lg\:group-data-\[state\=\"default\"\]\/sidebar\:hidden{display:none}}@media not all and (min-width: 768px){.group\/sidebar:hover .group-hover\/sidebar\:max-md\:\!px-4{padding-left:1rem!important;padding-right:1rem!important}.group\/sidebar[data-state=default] .max-md\:group-data-\[state\=\"default\"\]\/sidebar\:justify-center{justify-content:center}.group\/sidebar[data-state=default] .max-md\:group-data-\[state\=\"default\"\]\/sidebar\:px-1{padding-left:.25rem;padding-right:.25rem}}@media (min-width: 768px){.md\:text-\[15px\]{font-size:15px}.md\:text-\[16px\]{font-size:16px}.md\:text-\[21px\]{font-size:21px}.md\:text-\[24px\]{font-size:24px}.md\:text-\[28px\]{font-size:28px}.md\:text-\[36px\]{font-size:36px}.md\:text-\[52px\]{font-size:52px}.md\:leading-\[1\.16\]{line-height:1.16}.md\:leading-\[1\.25\]{line-height:1.25}.md\:leading-\[1\.2\]{line-height:1.2}.md\:leading-\[1\.4\]{line-height:1.4}.md\:tracking-\[-1\%\]{letter-spacing:-1%}.md\:tracking-\[-2\%\]{letter-spacing:-2%}.md\:tracking-\[-3\%\]{letter-spacing:-3%}.group\/sidebar[data-state=default] .md\:group-data-\[state\=\"default\"\]\/sidebar\:hidden{display:none}}.\[\&\>\*\]\:outline-none>*{outline:2px solid transparent;outline-offset:2px}.data-\[attached\=true\]\:\[\&\>not\(\:first-child\,_\:last-child\)\]\:rounded-none>not(:first-child,:last-child)[data-attached="true"]{border-radius:0}.\[\&\>span\]\:\!text-base-100>span{--tw-text-opacity: 1 !important;color:rgba(var(--color-base-100, 255 255 255) / var(--tw-text-opacity, 1))!important}.\[\&\>span\]\:\!no-underline>span{text-decoration-line:none!important}.\[\&\>svg\]\:gap-xs>svg{gap:.25rem}.\[\&_\>_div_\>_p\]\:data-\[disabled\]\:text-base-400[data-disabled]>div>p{--tw-text-opacity: 1;color:rgba(var(--color-base-400, 176 174 208) / var(--tw-text-opacity, 1))}.\[\&_button\>span\]\:text-base-500 button>span{--tw-text-opacity: 1;color:rgba(var(--color-base-500, 90 93 141) / var(--tw-text-opacity, 1))}.\[\&_button\>span\]\:text-orange-400 button>span{--tw-text-opacity: 1;color:rgb(255 107 70 / var(--tw-text-opacity, 1))}.\[\&_button\>span\]\:text-white button>span{--tw-text-opacity: 1;color:rgb(255 255 255 / var(--tw-text-opacity, 1))}.\[\&_button\>svg\]\:text-base-100 button>svg{--tw-text-opacity: 1;color:rgba(var(--color-base-100, 255 255 255) / var(--tw-text-opacity, 1))}.\[\&_button\>svg\]\:text-light-blue-400 button>svg{--tw-text-opacity: 1;color:rgb(0 141 255 / var(--tw-text-opacity, 1))}.\[\&_button\>svg\]\:text-orange-400 button>svg{--tw-text-opacity: 1;color:rgb(255 107 70 / var(--tw-text-opacity, 1))}.\[\&_button\>svg\]\:text-primary-400 button>svg{--tw-text-opacity: 1;color:rgba(var(--color-primary-400, 29 29 255) / var(--tw-text-opacity, 1))}.\[\&_button\>svg\]\:text-purple-300 button>svg{--tw-text-opacity: 1;color:rgb(178 94 244 / var(--tw-text-opacity, 1))}.\[\&_button\]\:decoration-base-100 button{text-decoration-color:rgba(var(--color-base-100, 255 255 255) / 1)}.\[\&_button\]\:decoration-orange-400 button{text-decoration-color:#ff6b46}*{font-family:Work Sans,sans-serif}</style></head><body><div></div></body></html></template></tldx-lmi-shadow-root><div id="tldx-toast-container"></div></body></html>